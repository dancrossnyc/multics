









                            SECTION 1


                           INTRODUCTION




This   document   describes   the   MR12.3   package.    Detailed
instructions for installation of a  system for the first time and
upgrading to  MR12.3 from an  MR12.2 system constitute  the major
portion of this document.

No  attempt is  made to  document features  of MR12.3  other than
those directly required for its installation.

Software Releases  prior to MR12.1 are no  longer supported.  All
sites  running  pre-MR12.1  software  are  strongly encouraged to
upgrade to MR12.1 as soon as possible.


_S_I_T_E _S_U_P_P_O_R_T


System  Representatives  who  support  Multics  should  apply for
registration  on  the  SiteSA  project  maintained  in Phoenix on
System M.

The SiteSA project was created to allow sites to communicate with
Multics  System  Support  (MSS)  personnel  on  matters  of  site
support.  MSS maintains and pays for usage on this project.  Only
System Representatives who support  a Multics site are authorized
to use the project.  They are  authorized to use it only for site
support activities which require  communication of information to
MSS personnel.

MSS would  appreciate that the  SiteSAs maintain the  site's info
segments in >udd>SiteSA>site_info  (>udd>ssa>si).  Information on
maintaining   these   segments   is    in   the   info   segment,
>udd>ssa>si>site_info.info.

In addition  to normal telephone and  Multics mail communications
with   MSS  personnel,   SiteSAs  are   encouraged  to   use  the
unusual_crash_log  forum meeting  to report  any unusual problems
encountered at  their site.  SiteSAs not familiar  with forum can
type "help  forum" for usage  information.  Forum is  a subsystem


Introduction                   1-1                        SIB12.3


somewhat like the mail system  in which an electronic meeting can
be held.  To invoke forum, type:

   forum >udd>ssa>sa_meeting>uclog

Type  ?  to  print a  list of  requests allowed  by forum.  Other
forum meetings of interest to SiteSAs are:

            PATHNAME                              SHORT NAME
   ---------------------------------------------  ----------

   >udd>ssa>sa_meeting>install_instructions       ii
   >udd>ssa>sa_meeting>hardware_problems          hwp
   >udd>ssa>sa_meeting>critical_fixes             fixes

We would  appreciate that sites as they  complete installation of
MR12.3 enter a transaction in the install_instructions (ii) forum
meeting.   This  will  allow  other  sites  to  see the amount of
exposure the release is receiving and to communicate any problems
encountered in the installation procedure.

MSS also suggests, very strongly,  that SiteSAs DO NOT attempt to
reproduce site problems on System M  which are known to crash the
system at  their site, cause processors  to loop in ring  0, etc.
Such problems  should be reported via the  Trouble Report system,
and  will   be  verified  by  MSS   personnel  using  appropriate
resources,   so  that  System   M  service  is   not  interrupted
unnecessarily.

Problems encountered  while installing this release,  or problems
of  a critical  nature to  a customer  site (for  a definition of
critical, type:  help tr.priorities)  should be reported directly
to  MSS by  mail or   phone.  European  or Canadian  sites should
contact their  local site support  person for details  on support
from  the Canadian,  French or  UK Technical  Assistance Centers.
Phoenix personnel include:

  NAME                  AREA            USER ID       PHONE

  Frank Martinson       Mgr, MSS        Martinson.sm  602/862-4839
  Paul Farley           TRs, C&F,
                        Site Support    Farley.sm     602/862-4666
  Joe Hirneisen         Sys. Integration
                        Release Prep    Hirneisen.sm   602/862-4812

Note  that all  of the  above numbers  are available  through HVN
862-XXXX (eg, 862-4839 for Martinson).








Introduction                   1-2                        SIB12.3









                            SECTION 2


                      DESCRIPTION OF PACKAGE




_L_I_B_R_A_R_Y _N_A_M_I_N_G _C_O_N_V_E_N_T_I_O_N_S

The  primary pathnames  on most   of the  system directories  are
somewhat lengthy.   For this document, abbreviated  (added) names
are used in  lieu of the primary name.  The  following list gives
the primary and abbreviated names used in this document.

     >daemon_dir_dir           >system_library_1
          >ddd                      >sl1

     >documentation            >system_library_obsolete
          >doc                      >obs

     >system_library_tandd     >system_library_standard
          >firmware                 >sss

     >library_dir_dir          >system_library_tools
          >ldd                      >tools

     >process_dir_dir          >system_library_unbundled
          >pdd                      >unb

     >system_control_1         >user_dir_dir
          >sc1                     >udd

The system directories firmware and  obs, are not included in the
standard system search rules.  Segments in these directories must
either  be accessed  by absolute   pathnames or  by changing  the
system search rules via the set_system_search_rules command added
to the system_start_up.ec.










Package Description            2-1                        SIB12.3


_C_O_N_T_E_N_T_S _O_F _M_R_1_2_._3 _P_A_C_K_A_G_E

MR12.3 includes this document, a  set of magnetic tapes, hardcopy
dump maps, and accompanying  documentation.  Sites not installing
Multics for the first time will  be able to proceed to the MR12.3
release from MR12.2.  Sites upgrading to MR12.3 from MR12.2
 refer to Section 4, sites  installing Multics for the first time
refer  to  Section  5.   The  instructions  in  each section will
provide a procedure to guide a site through the installation.

Documentation for  some of the  new features and  TRs resolved in
this release  is contained in the directory  >doc>MR12.3 which is
part of this release.

This is a total software release.   It contains a complete set of
all modules contained in the Multics standard system.

Appendix  A will  list modules  added, modified  or deleted since
MR12.2.

Appendix B contains an outline of the use of MTR under Multics.

A set of master tapes was generated for this release and all dump
maps reflect the contents of  these master tapes.  All tapes sent
to  the  field  are  copies  of  the  master  tapes.   Because of
different  lengths of magnetic  tape reels, there  may not be  an
exact correlation between a single tape and a dump map.

These differences,  if any, are  minimal and occur  only on those
sets  that are  multi-reel (e.g.,  12.3LDD_STANDARD tapes).  Site
personnel may assure  themselves of the contents of  the tapes by
visually  matching the maps  produced from the  reload operations
against the master dump maps supplied.






















Package Description            2-2                        SIB12.3


    _T_a_p_e__N_a_m_e_s         _D_e_s_c_r_i_p_t_i_o_n

    12.3EXEC             Complete  dump   of  Multics  executable
                         libraries  >documentation,  >obs,  >sss,
                         >tools, and >firmware.

    12.3UNBUNDLED        Complete   dump  of   Multics  unbundled
                         libraries, or portion thereof, for those
                         sites    purchasing   Priced    Software
                         Products.  Includes all,  or portions of
                         >unbundled, >ldd>unbundled, >ldd>mcs and
                         >system_library_3rd_party.

    12.3LDD_STANDARD     Complete  dump of  all standard  library
                         source,  object, include files  and info
                         segs.

    12.3MULTICS          Complete Multics System Tape (MST).

    12.3MISC             The  compout segment  for this  document
                         and  other supporting  documentation, if
                         any,  are  contained  on  this  tape  in
                         >doc>MR12.3.   Last  minute  changes, if
                         any,  made  to  software  modules  after
                         generation  of the  above tapes  is also
                         contained  on this   tape.  This  is the
                         last tape to be loaded.




























Package Description            2-3                        SIB12.3


The accompanying hardcopy listings are:

     _L_i_s_t_i_n_g _D_e_s_c_r_i_p_t_i_o_n

     12.3EXEC.DUMP.MAP          Contents of the 12.3EXEC tape.

     12.3UNBUNDLED.DUMP.MAP     Contents  of   the  12.3UNBUNDLED
                                tape (for  those sites purchasing
                                Priced Separate Software).

     12.3LDD_STANDARD.DUMP.MAP  Contents of  the 12.3LDD_STANDARD
                                tapes.

     12.3MISC.DUMP.MAP          Contents of the 12.3MISC tape.



     _T_a_p_e__F_i_l_e__N_a_m_e _D_e_s_c_r_i_b_e_s

     _system_book_ MR12.3 hardcore modules



































Package Description            2-4                        SIB12.3









                            SECTION 3


                     FCO AND FIRMWARE STATUS




_F_I_R_M_W_A_R_E

The firmware identification for MR12.3 is "IFAD D.4".


IFAD (Integrated Firmware and Diagnostics) tapes, are distributed
to all sites having  valid Field Engineering Hardware Maintenance
contracts.  The IFAD tape is  nolonger distributed as an FCO.  It
is now sent with the MR12.3 release tapes.


T&D  (Test and  Diagnostic) tapes,  are distributed  to all sites
having  valid Field  Engineering Hardware  Maintenance contracts.
The T&D tape is distributed as FCO PHAFGA888, rev.  B.2.


This version of  IFAD, firmware, and T&D modules  has been tested
and exposed on System M in  Phoenix.  The modules are supplied as
part of the  MR12.3 release and can be found  in >ldd>firmware as
part of the LDD_STANDARD tape.  When subsequent IFAD tapes become
available,   it   is   recommended   that   the   site   use  the
deckfile_manager,  dfm, command  to load  the released  IFAD tape
into >system_library_tandd.  The firmware  modules should then be
moved  to >ldd>firmware and  a new MST  tape should be  generated
using generate_mst.


The  MR12.3  release  requires  the  following  firmware revision
levels.


            Disc:  DSC191 -- V1
                   DSC500 -- X1
                   MSP800 -- K1

            Tape:  MTC0500 -- V1
                   MTP0601 -- T1
                   MTP0610 -- Z2


Firmware Status                3-1                        SIB12.3


     Unit Record:  Common       -- A2
                   Reader/Punch -- B2
                   PRU1200/1600 -- M1



_F_I_E_L_D _C_H_A_N_G_E _O_R_D_E_R _L_I_S_T

The following list of FCOs should be thought of as a continuation
of the  similar list for  MR12.2.  Sites that  are upgrading from
MR12.2 will need  to verify that FCOs for that  release have been
installed.

As FCOs are completed in Phoenix,  they are sent out to the field
sites.   Some of  the FCOs  affect only  site documentation while
others may  change the hardware to improve  system reliability or
maintainability.   An example  might be  a change  to improve the
supply  of cooling  air to  some boards  so that  the boards  run
cooler  and are therefore  less likely to  fail.  These types  of
FCOs are important to the  long-term success of system operation.
However,  because these  FCOs are   not required  to correct  the
results of any computer program, they are not listed in this SRB.

The purpose of this section is to identify those FCOs that are of
utmost  importance in  the short  term.  This  list includes only
those FCOs needed to correct a program malfunction.

For those FCOs already sent to the field, the "FCO Kit Ship Date"
column  contains the  approximate date  when shipment  of the FCO
kits began.


One of the  column headings in the tables on  the following pages
is "Round Robin".  The implications of a "Yes" in this column for
a particular FCO are as follows:

1.   The FCO kit  includes at least one board.   The new board(s)
     is to replace the board(s) now in the equipment.

2.   Enough FCO kits are put together  for about 20% of the sites
     that are to take part in  the Round Robin.  Some FCOs result
     in a Round Robin for all  sites.  Other FCOs involve a Round
     Robin for some sites but  not for other sites.  For example,
     two  of  the  factors  that   determine  whether  or  not  a
     particular site takes part in a Round Robin FCO are:

     a.   The date codes of certain integrated circuit chips on a
          board.

     b.   The   board  construction    method  --   wirewrap  vs.
          multilayer.




Firmware Status                3-2                        SIB12.3


3.   The  set of  FCO kits  are sent  to the  first set of sites.
     (For the  remainder of this  discussion, we will  follow one
     kit as it makes its Round Robin journey.)

4.   The site installs the FCO.   When the site is satisfied that
     the FCO  is satisfactory, the site returns  the old board(s)
     to Phoenix.

5.   If there is still equipment at other sites that have not had
     the  FCO  installed,  the  returned  board(s)  is  reworked,
     tested, and another FCO kit is assembled in Phoenix and sent
     to the next site.

6.   Since the length  of time it takes a site  to install an FCO
     and become satisfied that it  is working correctly cannot be
     known in advance,  there is no way to  predict with accuracy
     how long it will be until  the FCO has been installed at all
     sites.


The FCOs have been classified into the following categories:


_C_A_T_E_G_O_R_Y__1 - The  new  software  for  this  release  will not run
             properly unless these FCOs are installed.


_C_A_T_E_G_O_R_Y__2 - The new software for this release may or may not run
             properly  if these  FCOs are  not installed.   It is
             strongly recommended to have these FCOs installed to
             improve reliability of the system.


_C_A_T_E_G_O_R_Y__3 - FCOs whose  effects are program-visible, but  do not
             fall  into  categories  1  or  2.   Category  3 FCOs
             correct  problems that  are not  uniquely related to
             this release.


















Firmware Status                3-3                        SIB12.3
_C_A_T_E_G_O_R_Y__1__F_I_E_L_D__C_H_A_N_G_E__O_R_D_E_R_S

FIELD CHANGE ORDERS VITAL TO THIS SOFTWARE RELEASE

                                           Est.     FCO
                                           Hours    for
                      FCO Kit     Round    To       Multics
FCO Number   Board    Ship Date   Robin    Instl    Release
----------   ------   ---------   -----    -----    -------


No category 1 changes are required for MR12.3.













































Firmware Status                3-4                        SIB12.3
_C_A_T_E_G_O_R_Y__2__F_I_E_L_D__C_H_A_N_G_E__O_R_D_E_R_S

FIELD CHANGE ORDERS POSSIBLY NEEDED FOR THIS RELEASE

                                           Est.     FCO
                                           Hours    for
                      FCO Kit     Round    To       Multics
FCO Number   Board    Ship Date   Robin    Instl    Release
----------   ------   ---------   -----    -----    -------


No category 2 changes are required for MR12.3.













































Firmware Status                3-5                        SIB12.3
_C_A_T_E_G_O_R_Y__3__F_I_E_L_D__C_H_A_N_G_E__O_R_D_E_R_S

FIELD CHANGE ORDERS INDEPENDENT OF A PARTICULAR RELEASE

                                           Est.     FCO
                                           Hours    for
                      FCO Kit     Round    To       Multics
FCO Number   Board    Ship Date   Robin    Instl    Release
----------   ------   ---------   -----    -----    -------


-----INTEGRATED MULTIPLEXER UNIT (IMU)---------------------

PHAFXS951    MCA         88 Nov   No       3.0      MR12.3


-----FIPS DISK MSU 3380/3382, MSP 3880/1/4/5---------------

PHAFFP553    Pwr Supply  89 Jan   No       1.0      MR12.3
PHAFFP556    Firmware    88 Dec   No        .4      MR12.3
PHAFFP557    Pwr Supply  89 May   No        .2      MR12.3


-----FIPS TAPE MTU 8205/06/08, MTS 8205/06/08/15/16/18-----

PHAFFP434    Firmware    88 Dec   No        .2      MR12.3
PHAFFP436    FW Patch    89 Nov   No        .2      MR12.3


-----T&D RELEASE REV. B.2----------------------------------

PHAFGA888    Tape        87 Mar   No       2.0      MR12.1


-----MHAT MR12.0-------------------------------------------

PHAFPD998    Tape        87 May   No       2.0      MR12.0




















Firmware Status                3-6                        SIB12.3









                            SECTION 4


      INSTRUCTIONS FOR SITES UPDATING TO MR12.3 FROM MR12.2




If  problems are encountered  in any of  the Steps listed  below,
return  to the  last step  known to  be successful  and retry the
Steps.   Pay  particular  attention  to  procedure.   This entire
procedure was verified on the  Multics System at Phoenix Computer
Operations, but some hardware/software differences may exist at a
particular site.

In  this section, two  formats of text  are used to  indicate the
typing of input into the system.  This input usually is a command
line, but  could be data  typed in response  to a query  from the
operator console.

Strings of input, and output messages of importance are indicated
on separate lines.

In addition, all input to the system is to be typed in lowercase,
except  when indicated  by the  occurrence of  both uppercase and
lowercase  in the  input line.    User input  is preceeded  by an
exclamation mark (!).

System display output  is shown as is, except  when the displayed
line  exceeds the  page margins   for this  document.  When  this
occurs,  the displayed  line is  split into  two lines,  with the
second line indented from the first.

SITES  USING  NSA  IOM'S   MUST  INSURE  OPTION  WIOG008A-001  IS
INSTALLED TO MAKE PAGED MODE I/O WORK.













Instructions - Updating        4-1                        SIB12.3


_S_T_E_P _1_:  _P_R_E_-_I_N_S_T_A_L_L_A_T_I_O_N _P_R_E_P_A_R_A_T_I_O_N

It is recommended  that sites perform a BCE SAVE.   A double save
is recommended to avoid any possible tape problems later.

Due to the  method by which unbundled software  is dumped, normal
trimming  during reloading  of new  software does  not occur.  To
ensure that unbundled directories are clean execute the following
before shutting  down MR12.2 for  the last time  enter admin mode
and type:

     cwd >system_library_unbundled
     answer yes -bf hpdl ([files **])
     cwd >library_dir_dir>unbundled>source
     answer yes -bf hpdl ([files **])
     cwd >library_dir_dir>unbundled>object
     answer yes -bf hpdl ([files **])

To shut the system down and continue to the next step type:

     ame
     shutdown


_S_T_E_P _2_:  _I_N_S_T_A_L_L_A_T_I_O_N _T_O _B_C_E _(_E_A_R_L_Y_) _L_E_V_E_L

Place  the new  MR12.3 Mult  tape on  any convenient  tape drive.
Initialize and boot the MST.

The system will boot the  bootload tape controller, if necessary,
and continue.   At this time you  will be asked to  input the RPV
location in channel, controller, device and unit number format:

bootload_0:  Booting t500 A 12.3.  with mtc500 rev.v1 firmware.
bootload_0:  Booted tape MPC.
0000.1 announce_chwm: 371. pages used of 512. in
                             wired environment.
0000.2 announce_chwm: 646. words used of 1024.
                             in int_unpaged_page_tables.
find_rpv_subsystem: Enter RPV data: M-> ! rpv a22 451 451 1
bce (early) 0012.0: M->


_S_T_E_P _3_:  _C_H_A_N_G_E_S _T_O _C_O_N_F_I_G _D_E_C_K

There  are no  config deck  changes for  MR12.3.  To  examine and
change the config deck enter the config qedx editor by typing:

     config
     1,$p

to  display the  entire config   deck as  currently saved  in the
"conf" partition.


Instructions - Updating        4-2                        SIB12.3



After having made necessary changes exit the editor by typing "w"
and "q".

The "w"  request will verify  card syntax.  The  "q" request will
leave the qedx editor and place the user at the bce(early) level.


_S_T_E_P _4_:  _I_N_S_T_A_L_L_A_T_I_O_N _T_O _B_C_E _(_B_O_O_T_) _L_E_V_E_L

Continue installation of BCE by typing:

     bce (early) 0020.0: M-> ! bce
     Current system time is:  Friday, June 7, 1974 00:20:46 mst
     Is this correct?  no
     Enter time: M-> ! 12/01/89__13:21:30
     Current system time is:  Friday, December 01, 1989 13:21:30 mst
     Is this correct? M-> ! yes
     load_disk_mpcs:  Disk mpc(s): mspa mspc appear not to be
           operating.
     Enter disk mpc names to be loaded, or "none" or "abort"
           or "all": M-> ! mspa mspc

     (The operator entered the names of other disk mpcs
      to be loaded.)

     hc_load_mpc:  Booting channel A20 with dsc500 Revision X1.
     hc_load_mpc:  Booting channel B20 with dsc500 Revision X1.
     bce (boot) 1325.5: M->

At  this time,  the operator  must load  firmware into  all other
controllers (i.e., not the bootload  tape controller nor any disk
controllers).  bce is then considered to be fully initialized.


_S_T_E_P _5_:  _R_I_N_G_-_1 _E_N_V_I_R_O_N_M_E_N_T

The system is now ready to cross into the ring-1 environment:

     bce (boot) 1325.5:  boot
     Multics MR12.3 - 12/01/89 1328.0 mst Fri.
     Command:

At Initializer ring-1 command level, type:

alv -all

At this point the libraries  will be reloaded.  The release tapes
should   be   reloaded   in   this   specific   sequence:   EXEC,
LDD_STANDARD, UNB, and MISC.

To reload the libraries type:



Instructions - Updating        4-3                        SIB12.3



     reload_system_release -nosetlvid

When the system asks "Input tape label:" type:  <reel_id>

where <reel_id> is the reel identification specified for the next
tape  to  be  reloaded.   See  Section  2,  "Contents  of  MR12.3
Package," for a listing of all "Tape names".  Enter <reel_id> for
each library tape.

When all tapes are loaded, type:

     standard
     admin
     <password>


_S_T_E_P _6_:  _T_T_F _C_O_N_V_E_R_S_I_O_N


The TTF  is not changed for  MR12.3.  This step is  retained as a
place holder for future releases.  Skip to step 7.

A  new  standard  TTF  has  been  provided  containing additional
terminal types.  Sites using a modified site dependent TTF should
merge these changes with their  modified version, and convert the
TTF  to its  binary version.   The converted  binary version must
then be installed to take  effect.  The TTF.ttf segment in >tools
contains  some of  the more   common used  terminals on  Multics.
Sites  using the default  TTF for this  release must execute  the
following commands to perform this conversion:

     cwd >udd>sa>a
     rename TTF.ttf TTF.save
     cp >t>TTF.ttf
     cv_ttf TTF
     install TTF.ttt


_S_T_E_P _7_:  _F_N_P _C_O_R_E _I_M_A_G_E_S _A_N_D _C_M_F _C_O_N_V_E_R_S_I_O_N

A Multics  Communications System (CS)  core image is  supplied in
the >unbundled library, and  is named "site_mcs".  The "site_mcs"
core image contains  the basic support for DN6780  type FNPs with
64k of memory.

CS  core   images  are  built  using  the   bind_fnp  command  in
conjunction  with  a  bindfile  describing  the  CS  modules  and
configurations to  be used.  A copy of  the site_mcs.bind_fnp can
be found in >ldd>mcs>info.

Sites should build their own CS  core image tailored to their own
FNP  configuration,  terminal  type   requirements,  and  use  of


Instructions - Updating        4-4                        SIB12.3


additional separately  priced FNP software modules.   Sites using
the  default "site_mcs" core  image should skip  to Step 8  after
ensuring  the CMF image  statement points to  the core image  now
located in >unb.

To build a new core image, the following procedure is suggested:

Sites  will need  to extract  the communications  object segments
from archives located in  >ldd>mcs>object.  Sites should create a
virgin directory under >udd>sa>a for each new core image.

The  following example  is for  sites with  the more  common type
Datanet and a larger memory configuration.  Execute the following
commands:

     create_dir >udd>sa>a>mcs.7.6c
     cwd >udd>sa>a>mcs.7.6c
     qx
     r >ldd>mcs>info>site_mcs.bind_fnp (or location of sites
                                         CS bind file)
     .
     .
     .
     make editing changes if any..
     .
     .
     .
     w site_mcs.bind_fnp
     q
     ac x ([segs >ldd>mcs>o>*.archive -absp])
     bind_fnp site_mcs -list

Be  sure the  image statement  in the  CMF points  to this  newly
created CS core image.  The name  of the CMF requires a suffix of
"cmf".   The  following  example  assumes  the  CMF  to be in the
>udd>sa>a directory.  This procedure will  insure that the new CS
image is used:

     cwd >udd>sa>a

     qx
r  CMF.cmf
.
.
1) Edit the image: statement to point to the new CS image.
2) Make any other changes needed.
.
.
w CMF.cmf
q

     cv_cmf CMF
     copy CMF.cdt >system_control_1>cdt -force


Instructions - Updating        4-5                        SIB12.3


The  above procedure builds  a site dependent  CS core image  and
ensures  that this image  is loaded in  the FNP by  the answering
service.

Exit admin mode by typing "ame".  Then issue the commands:

     stop_mpx a        (sites  with  multiple  FNPs  execute this
                       command for each FNP)
     multics

     load_mpx a -check (sites  with  multiple  FNPs  execute this
                       command for each FNP)
     go

The   load_mpx  command   indicates  on   the  FNP   console  any
configuration  errors  if  console_man  is  loaded  and "console:
yes;"  is in  the bind_file.    If any  errors are  reported they
should be corrected.

Sites should  assure the correct  version number is  reported the
first time the FNP is booted.


_S_T_E_P _8_:  _A_C_L_S _A_N_D _R_I_N_G _B_R_A_C_K_E_T_S

Check  the  ACLs  for  >sss>dm_admin_gate_, >sss>dm_daemon_gate_,
>tools>installation_tools_,               >tools>pnt_admin_gate_,
>tools>pnt_login_gate_,                 >tools>pnt_network_gate_,
>tools>pnt_priv_gate_, >sss>metering_gate_ and >sss>queue_admin_.
The ACLs on these gates are as they appear on System M and should
be restricted.   The ACL for  these gates are  site dependent and
should be changed to meet  each site's needs.  The dm_admin_gate_
and  dm_daemon_gate_  should  be  restricted  to  data management
administrators or daemons.   The installations_tools_ gate should
be restricted to system library  maintainers.  All persons on the
ACL for metering_gate_ have access  to the Multics metering data.
All  persons on the  ACL for queue_admin_  are permitted to  move
absentee and  daemon requests for  themselves and other  users to
different queues.   Users not on this  ACL are only able  to move
their  own  requests.   The   Initializer  must  have  access  to
queue_admin_.   This  capability  is  also  dependent on extended
access to the <queue>.ms  segments.  The various pnt_<name>_gate_
acls should  be restricted to the following  minimums for correct
system operation:

       >t>pnt_admin_gate_
     re    *.SysDaemon.*
     re    *.SysAdmin.*

       >t>pnt_fs_gate_
     re    *.*.*




Instructions - Updating        4-6                        SIB12.3


       >t>pnt_login_gate_
     re    Initializer.SysDaemon.*
     re    *.SysAdmin.*

       >t>pnt_network_gate_
     re    Initializer.SysDaemon.*
     re    IMFT.Daemon.*
     re    Card_Input.Daemon.*
     re    *.SysDaemon.*

       >t>pnt_priv_gate_
     re    Initializer.SysDaemon.*
     r     *.SysDaemon.*
     re    *.SysAdmin.*


_S_T_E_P _9_:  _S_Y_S_T_E_M _C_L_E_A_N_U_P

The  system  is  now  ready  for  normal  operation under MR12.3.
Following  a  reasonable  period   of  MR12.3  operation,  it  is
suggested that  sites delete any <name.save>  segments created as
part  of  this  procedure.   It  is  also  recommended that sites
salvage    their    systems    and    fix    quota   by   running
Salvager.SysDaemon, executing the following command:

     x repair salvquota > <number of salvagers> -rebuild -dcf





























Instructions - First Time      4-7                        SIB12.3









                            SECTION 5


         INSTRUCTIONS FOR SITES INSTALLING FOR FIRST TIME




The following  basic procedure must be  performed when installing
Multics for the first time.


_S_T_E_P _1_:  _P_R_E_P_A_R_A_T_I_O_N


Ensure that all Multics active hardware components run error free
in  Multics  mode  using  the  latest  T&D  release.   Peripheral
equipment can be run in either Multics or GCOS mode and must also
run error free.

Carefully  check  the  hardware  configuration  (port and channel
assignments,  mailbox switch  settings, etc.)   Create and verify
the configuration  description on paper for later  input when BCE
is  running.  Close  consultation  between  the SiteSA  and Field
Engineering representative  is of the utmost  importance.  (Refer
to Section 9  and Appendix A of the Operator's  Guide to Multics,
Order  Number  GB61,  for  hardware  switch  setting information.
Refer to Section 7 of  the Multics System Maintenance Procedures,
Order Number AM81-03, for configuration setup.)

When selecting the  storage unit for the RPV, select  a disk unit
with as few bad tracks as possible.  For the MSS451s, T&Ds should
be used to format  and test the first disk to be  used as the RPV
(test 365, subtest 26).

The MSS500/501s are formatted  at the factory, however, selection
of alternate tracks  is not done at the factory.   It can only be
done using  MTR at Multics  command level.  (Refer  to Appendix B
for an outline of how MTR runs under Multics.)









Instructions - First Time      5-1                        SIB12.3


_S_T_E_P _2_:  _L_O_G_I_C_A_L _V_O_L_U_M_E _A_S_S_I_G_N_M_E_N_T_S


Choose the  logical volume assignments.  Decide  how many logical
volumes  are needed and  how many physical  volumes are to  be in
each.

Most installations have the following:

     Logical Volume Contents

     root                >system_control_1
                         >system_library_standard
                         >system_library_tools
                         >system_library_unbundled
                         >system_library_auth_maint
                         >system_library_1
                         >documentation
                         >daemon_dir_dir
                         >dumps
                         >system_library_tandd
                         >system_library_obsolete
                         >system_library_3rd_party
                         >site
                         >lv
                         partitions

     public              >user_dir_dir
                         >library_dir_dir>include

     ldd                 >library_dir_dir

Other logical volumes may be set up for specific applications.

The  assignment  decision  requires  the  system administrator to
balance the  costs of seek interference and  breakage against the
advantages  of  being  able   to  define  and  process  logically
different collections  of data.  Data  bases used for  only a few
hours a day or only a few days a month are natural candidates for
allocation  to  a  separate  logical  volume.   Breaking  up  the
system's  storage into  several logical  volumes also  allows the
site to  operate without all logical volumes  mounted if hardware
goes down.  For example, an MPC or channel might go down, halving
the system's disk drive capacity.











Instructions - First Time      5-2                        SIB12.3


Logical volume assignments might be as follows:


     Logical Volume Contents

     root                >system_library_tandd
                         >library_dir_dir
                         >system_library_obsolete
                         >system_library_standard
                         >system_library_tools
                         >system_library_unbundled
                         >system_library_3rd_party
                         >daemon_dir_dir
                         >documentation
                         >dumps
                         >system_library_1
                         >system_library_auth_maint
                         >user_dir_dir>Daemon
                         >user_dir_dir>SysAdmin
                         >user_dir_dir>SysDaemon
                         >user_dir_dir>SysMaint
                         >site
                         >lv
                         partitions

     Mcc                 >user_dir_dir>Mcc

     Multics_Pubs        >user_dir_dir>Pubs
                         >user_dir_dir>Multics

     Old_Dumps           >dumps>Old_dumps

     Public              >user_dir_dir
                         >experimental
                         >process_dir_dir
                         >ldd>include

     list_1              >library_dir_dir>listings>hard
                         >library_dir_dir>mcs
                         >library_dir_dir>unbundled

     list_2              >library_dir_dir>listings


These particular assignments give a wide range of flexibility and
Multics  can run with  only the root  logical volume mounted,  or
with one or two of the  less critical logical volumes not mounted
due  to  unavailability  of  disk  drives.   For example, logical
volumes, list_1 and list_2, can  easily be demounted.  This frees
two disk drives to be available  for use with other more critical
logical volumes.




Instructions - First Time      5-3                        SIB12.3


Installations  that wish  to use  the Access  Isolation Mechanism
(AIM)  by specifying more  than one access  category (sensitivity
level) should specify the maximum  and minimum categories for one
or more volumes  and thus ensure that sensitive  data is confined
to  a  few  packs,  or  that  packs  are  not "contaminated" with
information requiring special precautions.

The logical volumes that hold  process directory segments must be
chosen.   Because  of  the   heavy  usage  of  process  directory
segments, these  segments should be spread over  as many physical
volumes as possible.  One or more logical volumes may be selected
to  hold process  directory segments,  using the set_pdir_volumes
command     in    system_start_up.ec.      In    the     supplied
system_start_up.ec,  a single  logical volume,  named public,  is
selected.  This command line should be changed to select a set of
publicly  accessible  and  permanently  mounted  logical  volumes
containing as many physical volumes  as possible, subject to some
constraints.   Site  maintenance  personnel  are  responsible for
ensuring there  is always enough space available  on the selected
logical  volumes to  hold  the  process directory  segments.  The
process  directory placement  algorithm causes  process directory
creations to be made on each  logical volume in proportion to the
number of physical volumes in the logical volume.

Ensure that enough  storage will be available.  About  5% of each
volume is  used for the VTOC  and volume map.  In  addition, some
breakage is unavoidable.

Since the system handles running out of storage without crashing,
and  since it is  possible to add  physical volumes to  a logical
volume  dynamically, logical  volumes can  be defined  with fewer
physical volumes than their maximum anticipated size.


_S_T_E_P _3_:  _R_P_V _I_N_I_T_I_A_L_I_Z_A_T_I_O_N

Mount  the Multics  System Tape  (MST) on  Magnetic Tape  Handler
(MTH)  nn (nn  is usually  equal  to  01).  Mount  the disk  pack
formatted by T&D on the drive selected to be the RPV.  Initialize
and boot the MST.  Multics will prompt with:

bootload_0:  Booting system MR12.3 generated 08/31/89 0000.0
bootload_0:  Enter boot tape MPC model:  ! t500

Normal response to this question  should be "ipc", "t610", "t601"
or "t500".  However, on systems with an IMU configured the "Enter
boot tape..."  query  will not appear.  The system  will boot the
bootload  tape controller, if  necessary, and continue.   At this
time, the intention to cold  boot is given.  Multics will request
the location of the rpv.  Once this is done, the init_vol request
loop will be entered to accept the layout of the rpv.

bootload_0:  Booting t500 A 12.3.  with mtc500 rev.u1 firmware.


Instructions - First Time      5-4                        SIB12.3


bootload_0:  Booted tape MPC.
0000.1 announce_chwm: 371. pages used of 512. in
                             wired environment.
0000.2 announce_chwm: 646. words used of 1024.
                             in int_unpaged_page_tables.
find_rpv_subsystem: Enter RPV data: M-> ! query
find_rpv_subsystem: Enter RPV subsystem base channel, as Icc,
                             or "cold". M-> ! cold
find_rpv_subsystem: Booting cold will destroy all data on the RPV
   Are you sure that you want to boot cold?  M-> ! yes
find_rpv_subsystem: Enter RPV subsystem base channel,
                             as Icc. M-> ! a22
find_rpv_subsystem: Enter RPV subsystem MPC model: M-> ! 451
find_rpv_subsystem: Enter RPV disk drive model: M-> ! 451
find_rpv_subsystem: Enter RPV drive device number: M-> ! 1
find_rpv_subsystem: RPV is a model 451 drive, number 1 on MPC A22
                             (Model 3), and this is a COLD boot.
    Is this correct? M-> ! yes

Default RPV layout:  (Respond "end" to use it.)
Average seg length = 2.00
VTOC size = 2792 pages, 13920 vtoces.
27840 paging records.
Constrained by average seg length.
part hc 2792.  2500.
part conf 5292.  4.
part alt 38117.  141.         (451 disk drive only)
part dump 35847.  2000.
part log 35591.  256.
part file 35336.  255.
part bce 33136.  2200.
request: M-> ! end

These are the default partition  assignments.  Any changes to the
default partitions  or RPV parameters  can be redefined  by using
the "startover" request in init_vol.  The system installer should
review  the write-up of  init_vol in the  Multics Administration,
Maintenance,  and   Operations  Commands  Manual,   Order  Number
GB64-00, prior to the installation.

Sizes  for the  various partitions   and their  locations can  be
modified based on the needs of the site.

init_empty_root:  Begin rpv initialization.  This will
     take some time.
init_empty_root:  rpv initialized; 27840 records.
bce (early) 0012.0: M->

The list above is based on  a 451 disk drive.  With the exception
of some default values the script will be the same for 501, 3380,
or 3381 disk units.




Instructions - First Time      5-5                        SIB12.3


_S_T_E_P _4_:  _C_O_N_F_I_G_U_R_A_T_I_O_N

Build  the  configuration  description  as  follows  (user  input
preceeded by an exclamation mark (!):

     ! config
     ! 1,$d
     ! a
     ! [User types in configuration fields as defined
        in the System Maintenance Procedures, Order
        Number AM81-03]
     ! \f
     ! w
     ! q

Do  not enter  any part  cards  at  this time,  except for  those
partitions defined on the rpv.   Also, make the root card specify
only the rpv.

Continue booting bce.

     bce (early) 0020.0: M-> ! bce
     Current system time is:  Monday, April 29, 1985 00:20:46 mst
     Is this correct?  no
     Enter time: M-> ! 12/01/89__13:21:30
     Current system time is:  Friday, December 01, 1989 13:21:30 mst
     Is this correct? M-> ! yes
     load_disk_mpcs:  Disk mpc(s): mspa mspc appear not to be
           operating.
     Enter disk mpc names to be loaded, or "none" or "abort"
           or "all": M-> ! mspa mspc

     (The operator entered the names of other disk mpcs
      to be loaded.)

     hc_load_mpc:  Booting channel A20 with dsc500 Revision X1.
     hc_load_mpc:  Booting channel B20 with dsc500 Revision X1.
     bce (boot) 1325.5: M->

At  this time,  the operator  must load  firmware into  all other
controllers (i.e., not the bootload  tape controller nor any disk
controllers).  bce is then considered to be fully initialized.

     bce (boot) 1325.5 : M-> ! boot -cold
     Do you really wish to boot cold and there by destroy the
          system hierarchy? M-> ! yes
     1326.1 volume_registration_mgr_$check_volume_registration:
             Reregistered public LV root LVID 133353533031
             (Initializer.SysDaemon.z)
     1326.3 volume_registration_mgr_$check_volume_registration:
             Reregistered PV rpv PVID 133353533017 in LV root
             (Initializer.SysDaemon.z)
     disk_table_: New disk_table created


Instructions - First Time      5-6                        SIB12.3


     Multics MR12.3 - 12/01/89 1327.0 mst Fri.
     Command: M->

Ignore    the    messages    prefaced    by    disk_table_    and
volume_registration_mgr_.


_S_T_E_P _5_:  _I_N_I_T_I_A_L_I_Z_I_N_G _R_O_O_T _V_O_L_U_M_E_S

Initialize each new root volume  except the RPV with the init_vol
command.

For  better performance,  it is   advisable to  place a  hardcore
partition (hc) on each physical volume of the Root Logical Volume
(RLV).  The  placement of the  hardcore partition on  each volume
must be  low.  The recommended  size of additional  partitions is
2500 records divided by the  number of physical volume used.  The
RPV size should  remain 2500 records to allow the  system to boot
with only an RPV mounted.

For most volumes the command looks like:

     init_vol PV_NAME DRIVE_NAME  -rlv {-special}

     Example: init_vol root2 dska_02 -rlv -special

For  those volumes  that are  to have  partitions, or  an average
segment length  other than the  default of five  records, add the
optional "-special"  as a third argument.  The  command then asks
for   instructions  about   the  partition   location.   Hardcore
partitions, for  additional root volumes, should  be specified as
they are initialized.  You may type one or more of the following:

     part NAME low nrec
     part NAME high nrec
     avg fff.ff
     list

complete initialization by typing:

     end

An  example of  typing the  init_vol for  an MSS0451/400  with an
alternate partition on a RLV drive is:

     init_vol root2 dska_02 -rlv -special
     part alt high 141    (Note: 451 disk only)
     part hc low 625      (Example: 2500/4 root volumes)
     end

when done type:

     shut


Instructions - First Time      5-7                        SIB12.3


_S_T_E_P _6_:  _A_D_D_I_T_I_O_N_A_L _C_O_N_F_I_G_U_R_A_T_I_O_N _P_A_R_A_M_E_T_E_R_S

At bce (boot) level enter the configuration deck editor by typing
"config".  The  PART cards and ROOT  card should be added  to the
deck.  Subsequent boots divide  the hardcore supervisor among all
hardcore partitions.

The following script is provided as  an example where a root card
exists in the configuration deck and  a part card does not exist.
Parameters of  cards will vary according to  the configuration of
individual sites.  User input is preceeded by an exclamation mark
(!).

     bce (boot): M-> ! config
     M-> ! /root/
     root -subsys dski -drive 1
     M-> ! s/$/ -subsys dski -drive 2/p
     root -subsys dski -drive 1 -subsys dski -drive 2
     M-> ! /part/
     Search failed.
     M-> ! a
     M-> ! part bos dski 1
     M-> ! part log dski 1
     M-> ! part dump dski 1
     M-> ! \f
     M-> ! w
     M-> ! q
     bce (boot) 1215.2: M-> reinit


_S_T_E_P _7_:  _R_E_L_O_A_D _O_F _E_X_E_C_U_T_A_B_L_E _L_I_B_R_A_R_I_E_S

Do  a normal  boot "BOOT".   While at  ring-1 initializer command
level load the executable libraries.  This is done as follows:

     bce (boot): ! boot
     Command: M-> ! reload -nosetlvid

Only  the system  libraries (MR12.3.EXEC)  should be  reloaded at
this time.   The -nosetlvid control argument  ignores the logical
volume ID on the tape when a directory is being reloaded.

M-> ! shut
1230.1 shutdown complete.
bce (boot) 1231.1: M-> ! boot standard
                    (ignore the messages from sc_init_.)
Multics MR12.3 - 12/01/89 1235.2 mst Fri
Ready
M-> ! admin
admin: Entry not found.  Could not retrieve admin password
  from the PNT to check admin password.  Entering admin mode.
   [NOTE: This error message is repeated each time admin is
          entered until a password has been set.]


Instructions - First Time      5-8                        SIB12.3


Register and initialize all non-RLV volumes.  For ease of typing,
use of lower case names is recommended.

Use the add_volume_registration (avr) command as in the following
example:

     ! avr -pv pub01 -lv public -serial 233-81 -model 451
     add_volume_registration: LV "public" does not exist.  Do you
          wish to create it? M-> ! yes
     add_volume_registration: Registered PV "pub01" (pvid
          100172223140) on new LV "public" lvid 100172223005).
     r 14:15  1.473 8

to  create registration  entries  for  each logical  and physical
volume.   The registration  file for  the root  logical volume is
created automatically  by the bootload.  Since  the default model
number  is  451,  use  the  change_vol_registration  command,  if
necessary, to set  the correct value of model number  on the rpv.
The serial number can also be set as follows:

lvr -pv rpv
cvr -pv rpv -serial 233-79 -model <model number>
ame

Use the init_vol for the additional logical volumes as follows:

init_vol pub01 dska_03 -special
part alt high 141   (Note: 451 disk only)
end
init_vol pub02 dska_04 -special
part alt high 141   (Note: 451 disk only)
end

After  all physical volumes  are registered and  initialized, add
them to the disk_table by typing the add_vol (av) command for all
except the RPV:

     av pvname dskX_NN

An example:

     av pub01 dska_03

At this point add all of the logical volumes by typing:

     alv -all









Instructions - First Time      5-9                        SIB12.3


_S_T_E_P _8_:  _S_E_T_T_I_N_G _A_N_D _C_H_E_C_K_I_N_G _A_C_C_E_S_S

The  ACL for  >lv should  be set  to "s"  for all users.  Setting
initial ACLs for segments in the >lv directory is done from admin
mode by typing:

     M-> ! admin
     <READY MESSAGE>
     M-> ! sis >lv rew *.SysAdmin rew *.SysDaemon
     <READY MESSAGE>
     M-> ! sa >lv s * sma *.SysAdmin sma *.SysMaint
     <READY MESSAGE>

Create  Access Control  Segments (ACS)  for each  logical volume.
For system public volumes, create them as follows:

     M-> ! create >lv>{lvname}.acs
     <READY MESSAGE>
     M-> ! cvr -lv {lvname} -acs >lv>{lvname}.acs
     <READY MESSAGE>
     M-> ! set_max_length >lv>*.acs 0

where {lvname} stands for name of each logical volume.

The ACLs of these segments  are interpreted to give permission to
attach the logical volume (for private volumes) and permission to
modify  master directory  control  information  in the  MDCS (for
specific   logical   volumes).     Specific   ACL   entries   for
Initializer.SysDaemon should be deleted at this time by typing:

     delete_acl >lv>*.acs <READY MESSAGE>

This  is  necessary  because  Initializer.SysDaemon  always  gets
default access of "rw".  This  would prevent the Initializer from
being a volume administrator by virtue of the missing "e" access.
Deletion  of  specific  access  gives  the  Initializer the "rew"
access allowed all SysDaemons.

The  ACL is  now set  so that  all system  administrators and all
SysDaemons  are  volume  administrators.   The  "e"  bit controls
executive access.

For private volumes, the ACS is  in a directory controlled by the
volume owner.   The ACS segment must  reside in a directory  on a
logical volume different from the private logical volume.










Instructions - First Time      5-10                       SIB12.3


_S_T_E_P _9_:  _S_E_T_T_I_N_G _V_O_L_U_M_E _Q_U_O_T_A

Use the set_volume_quota command  to give the Initializer process
enough  quota on  each logical   volume to  create the  necessary
master directories.

     set_volume_quota LV_NAME QUOTA

Example:  set_volume_quota public 36000

The number  QUOTA should be at  least the total of  the quotas of
the directories to be created in the next step.

Use create_dir  to create master directories.  The  format of the
command is:

     create_dir pathname -lv logical_volume -quota QQ

where QQ <262144

     Example:  cd >library_dir_dir -lv no_backup -quota 40000
               cd >library_dir_dir>include -lv public -quota 3000

The acct_start_up.ec will, in step 11, create a number of project
directories and  assign terminal quota if the  directories do not
exist.   They  are  the  following  with  the  quota that will be
assigned:

     >udd>SysAdmin        5000
     >udd>SysAdmin>admin  2000
     >udd>SysDaemon       5000
     >udd>Daemon          1000
     >udd>Operator         100
     >udd>Terminals         10
     >udd>HFED            5000

Set  ACLs  and  additional  names,  as  desired,  on  all  master
directories at this time.

Directory quota should be set  for each master directory by those
sites that wish to have disk charges for directory pages included
in  monthly bills.   Those sites  not interested  in implementing
this feature may type "ame" and  "shutdown" then skip to the next
step.











Instructions - First Time      5-11                       SIB12.3


A  directory quota  of 1000  pages should  be sufficient  for all
master  directories with  the exception   of >udd.   If udd  is a
master directory it  is recommended that it be  given a directory
quota of 100000 pages.  This  provides enough directory quota for
100 projects at  1000 pages each.  If the site  has more than 100
active projects the 100000 figure should be adjusted accordingly.
To  set directory  quota on   each master  directory execute  the
following command:

     set_dir_quota PATHNAME QQ

This command allows a system  administrator to place an arbitrary
secondary storage quota for directories on a specified directory.

PATHNAME
   is the name of a directory on which the directory quota is to
   be placed.  -wd can be used to specify the working directory.
QQ
   is the directory quota in 1024 word pages.

If additional directory quota is  required for a master directory
the quota can  be reset following movement of  directory quota to
inferior directories.


Instructions for moving directory quota down to the project level
is included in Step 18.

To shut down do the following:

     ame
     shut


_S_T_E_P _1_0_:  _R_E_L_O_A_D _O_F _R_E_M_A_I_N_I_N_G _R_E_L_E_A_S_E _T_A_P_E_S

Reboot Multics  to ring-1 and reload  the MR12.3.LDD_STANDARD and
MR12.3.UNBUNDLED tapes with the following commands:

          boot
          alv -all
          reload -nosetlvid

The tape labeled MR12.3.MISC must be the final tape of the MR12.3
supplied set to be reloaded.










Instructions - First Time      5-12                       SIB12.3


_S_T_E_P _1_1_:  _R_U_N_N_I_N_G _A_C_C_T___S_T_A_R_T___U_P_._E_C

After all the release tapes  have been reloaded cross into ring-4
by executing the following commands:

     standard
     admin   [Ignore messages from admin at this time.]

At  this   time  you  are  ready   to  execute  part  1   of  the
acct_start_up.ec.  To do this type:

ec >system_library_tools>acct_start_up cold F.ANSS

where F.ANSS  is the channel number of  the hardwired Initializer
terminal.

          F = FNP number (a-h)
          A = Adaptor type (h = hsla)
          N = Adaptor number (0-2 for hsla)
         SS = Decimal subchannel number of specified adaptor

The string "F.ANSS"  should be replaced by "otw_" if  there is no
hardwired terminal and the bootload console  is to be used as the
Initializer terminal.

The error, "new_iod_tables_compiler:  Entry not found.  Accessing
cdt.   Channel  name  checks  will  not  be  performed",  may  be
encountered during this stage.  This error should be disregarded.

At  this point,  tapes dumped   from other  Multics sites  can be
reloaded as  desired using the "reload" command  with the control
arguments  "-noquota  -notrim  -nosetlvid"  to  avoid deletion of
existing segments  and resetting of quotas.  If  any segments are
to be loaded  into ring 1 then it cannot  be done without exiting
admin mode and rebooting to ring 1.


_S_T_E_P _1_2_:  _M_U_L_T_I_C_S _C_O_M_M_U_N_I_C_A_T_I_O_N_S _S_Y_S_T_E_M

A Multics  Communications System (CS)  core image is  supplied in
the >unbundled library, and is named site_mcs.

The site_mcs version for this  release is 7.6.  The site_mcs core
image contains the basic support for DN6780 type FNPs with 64k of
memory.

The communication system core images are built using the bind_fnp
command in conjunction with a  bindfile describing the CS modules
and configurations  to be used.  A copy  of the site_mcs.bind_fnp
can be found in >ldd>mcs>info.





Instructions - First Time      5-13                       SIB12.3


Sites should build their own CS  core image tailored to their own
FNP  configuration,  terminal  type   requirements,  and  use  of
additional separately priced FNP software modules.

Sites using the default site_mcs core image should ensure the CMF
image statement points to the  correct default core image located
in  >unb.  The  initial CMF,  which includes  some sample channel
entries in comments, as well as one FNP entry, should be checked.
Edit this  CMF to eliminate  any inconsistencies with  the actual
configuration and add one or more entries for login channels.

Sites modifying their  own CS core image are required  to use the
GCOS  Environment  Simulator  which   is  an  unbundled  software
product.  To build  a new core image, the  following procedure is
suggested:

Sites  will need  to extract  the communications  object segments
from archives located in  >ldd>mcs>object.  Sites should create a
virgin directory under >udd>sa>a for each new core image.

The  following example  is for  sites with  the more  common type
Datanet and a larger memory configuration.  Execute the following
commands:

     create_dir >udd>sa>a>mcs.7.6c
     cwd >udd>sa>a>mcs.7.6c
     ted
     r >ldd>mcs>info>site_mcs.bind_fnp (or location of sites
                                         CS bind file)
     .
     .
     .
     make editing changes if any..
     .
     .
     .
     w site_mcs.bind_fnp
     q
     ac x ([segs >ldd>mcs>o>*.archive -absp])
     bind_fnp site_mcs -list

Be  sure the  image statement  in the  CMF points  to this  newly
created CS core image.  The following example assumes the default
CMF to be in the >udd>sa>a directory.  This procedure will insure
that the new CS image is used:

     cwd >udd>sa>a
     ted
     r  CMF.cmf
     .
     .
     Locate the image: statement by typing:



Instructions - First Time      5-14                       SIB12.3


     /image/

     Edit the image: statement to point to the CS image,
     site_mcs, by making the statement read:

     :image:  >udd>sa>a>mcs.7.6c>site_mcs;

     .
     .
     Make any other changes needed.
     .
     .
     w CMF.cmf
     q
     cv_cmf CMF.cmf
     copy CMF.cdt >sc1>cdt -force

The  above procedure builds  a site dependent  CS core image  and
ensures  that this image  is loaded in  the FNP by  the answering
service.


_S_T_E_P _1_3_:  _C_O_M_P_L_E_T_E _A_C_C_O_U_N_T_I_N_G _S_T_A_R_T_U_P


During this step, expect many messages, some with audible alarms,
reporting  that  certain  segments  do  not  exist  and are being
created.  These messages would be cause for concern during normal
system operation  but are to be expected  during accounting start
up and may be ignored.  Execute the following example:

     ame
     stop_mpx a  (sites with multiple FNPs execute this
                  command for each FNP)
     multics
     load_mpx a -check  (sites with multiple FNPs execute
                         this command for each FNP)
     admin    (any error messages displayed at this time, except
               hardware error messages can be ignored.)

     ec >tools>acct_start_up cold2

This  procedure will  finish accounting  start up.   The load_mpx
command indicates on the FNP  console any configuration errors if
console_man is  loaded and "console:  yes;" is  in the bind_file.
If any errors are reported they should be corrected.

During   this    stage   you   will   encountered    the   error,
"set_max_length:    Validation  level    not  in   ring  bracket.
>system_control_1>mcaa.acs",   which   occurs   if   an   IMU  is
configured.  Ignore this error message.  The cause of this error,
validation level  of >sc1>mcaa.acs, must be  fixed manually after
cold2 has completed successfully.


Instructions - First Time      5-15                       SIB12.3


A default start_up.ec  is available for use by  new Multics users
when they first  log in.  This exec_com is executed  by users who
login to  the system without their own  start_up.ec.  The segment
>tools>start_up.ec was copied into  >sc1 by the acct_start_up.ec.
Individual  sites can  modify this   exec_com to  meet their  own
needs.  The access  for the segment should be "r  *.*.*" and ring
brackets  of 4,5,5.  To  start the system  up for normal  service
type:

     ame
     word login
     abs start
     go

After typing "go"  a number of messages will  be returned.  These
messages are of the form:

absentee_utility_: Entry not found. Creating new <pathname>.
scavenge_vol:  No volumes.
Found unexpected command_error in system start_up.ec.

These messages may be ignored.


_S_T_E_P _1_4_: _C_H_E_C_K _G_A_T_E _A_C_L_S


Type  "admin" and  enter the   new admin  password you  selected.
Check  the  ACLs  for  >sss>dm_admin_gate_, >sss>dm_daemon_gate_,
>tools>installation_tools_,               >tools>pnt_admin_gate_,
>tools>pnt_login_gate_,                 >tools>pnt_network_gate_,
>tools>pnt_priv_gate_, >sss>metering_gate_ and >sss>queue_admin_.
The ACLs on these gates are as they appear on System M and should
be restricted.   The ACL for  these gates are  site dependent and
should be changed to meet  each site's needs.  The dm_admin_gate_
and  dm_daemon_gate_  should  be  restricted  to  data management
administrators or daemons.   The installations_tools_ gate should
be restricted to system library  maintainers.  All persons on the
ACL for metering_gate_ have access  to the Multics metering data.
All  persons on the  ACL for queue_admin_  are permitted to  move
absentee and  daemon requests for  themselves and other  users to
different queues.   Users not on this  ACL are only able  to move
their  own  requests.   The   Initializer  must  have  access  to
queue_admin_.   This  capability  is  also  dependent on extended
access to the <queue>.ms  segments.  The various pnt_<name>_gate_
acls should  be restricted to the following  minimums for correct
system operation:

       >t>pnt_admin_gate_
     re    *.SysDaemon.*
     re    *.SysAdmin.*




Instructions - First Time      5-16                       SIB12.3


       >t>pnt_fs_gate_
     re    *.*.*

       >t>pnt_login_gate_
     re    Initializer.SysDaemon.*
     re    *.SysAdmin.*

       >t>pnt_network_gate_
     re    Initializer.SysDaemon.*
     re    IMFT.Daemon.*
     re    Card_Input.Daemon.*
     re    *.SysDaemon.*

       >t>pnt_priv_gate_
     re    Initializer.SysDaemon.*
     r     *.SysDaemon.*
     re    *.SysAdmin.*

Set  ACLs on  the >sc1>rcp  directory and  on the  access control
segments in it (<name>.acs), to allow users to attach tape drives
and any other peripherals they are allowed to use.

After all ACLs are set, type:

     ame
     x repair salvquota > 2 -dcf -rebuild





























Instructions - First Time      5-17                       SIB12.3


_S_T_E_P _1_5_:  _S_A_V_E _C_H_E_C_K_P_O_I_N_T


Type "logout  * *" and "shutdown".  After  a successful shutdown,
do a BCE save.  For further information see >doc>ss>bce>save.info
or Appendix B of this document.  Use fresh tapes for the BCE save
so that the results of the above steps are not lost.


_S_T_E_P _1_6_:  _T_A_I_L_O_R _S_Y_S_T_E_M _A_N_D _R_E_G_I_S_T_E_R _P_R_O_J_E_C_T_S


Following the bce  save, reboot the system for  normal service by
typing "boot star".  The system  is now ready for registration of
projects   and   users   from   a   SysAdmin   process,  such  as
Repair.SysAdmin, logged in from a standard terminal.

The  acct_start_up exec_com  created default  system_start_up.ec,
admin.ec,  iod_tables.iodt,  RTMF.rtmf,   and  CMF.cmf  segments.
These segments  should be tailored by  the local Site SA  to meet
site operational and configuration requirements.


_S_T_E_P _1_7_:  _S_E_T_U_P _V_O_L_U_M_E _B_A_C_K_U_P_/_R_E_L_O_A_D_E_R


The  following instructions  are necessary  only for  those sites
that intend to use the Volume Backup/Reloader facility:

The    personids    "Volume_Dumper",    "Volume_Reloader",    and
"Volume_Retriever"   are   registered.    These   personids   are
registered  on the  Daemon project   with the  multip and  daemon
attributes        and       with       a        home_dir       of
>user_dir_dir>Daemon>Volume_Dumper.  Sites using AIM must set the
authorization for these personids  at system_high and upgrade the
home_dir at system_high.

Login Repair  SysDaemon, or if  running in special  session using
the Initializer, execute the following commands:

     admin

     ec >tools>setup_volume_reloader

The error message that Volumes dm001 and dm002 are not registered
should  be  ignored.   This  exec_com  creates  all  directories,
segments, and  message segments necessary for  running the volume
dumper/reloader system.  This exec_com also sets suggested access
on the directories and segments  created.  Not all the access set
is  required.    If  a  site  wishes,  the   access  created  for
*.SysMaint.* and *.SysAdmin.* may be removed.




Instructions - First Time      5-18                       SIB12.3


This exec_com  resets the vtoce  fields for both  incremental and
consolidated  dumps by making  a first dump  pass with output  to
discard_.   This  is  necessary  since  the  first  dump  pass is
equivalent  to  a  complete  dump  on  both  the  incremental and
consolidated  pass.  Follow  the instructions  for normal  use of
this facility at the completion of this exec_com.

Sites need a sufficient number of tapes to accommodate the entire
file system  and any incremental  and consolidated dumps  until a
subsequent  complete dump is  taken.  This is  known as a  reload
group.  It  is suggested that new  sites start with 100  reels of
tape  or a  sufficient quantity  to contain  two complete  reload
groups.  A  single reel of  tape at 6250  bpi holds approximately
26000 Multics records.


_S_T_E_P _1_8_:  _S_E_T_U_P _D_I_R_E_C_T_O_R_Y _Q_U_O_T_A


This step is  necessary only for those sites that  wish to charge
their user projects for disk  storage used by directory pages, or
to obtain a more complete  disk report containing additional disk
usage statistics.  If directory quota  is not already set on >udd
execute the following commands from  a SysAdmin process if udd is
not a master directory:

     sac set_dir_quota > 120000
     sac move_dir_quota >udd 100000


If udd is a master directory, then execute:

     set_dir_quota >udd 100000

Then execute the commands:

     cwd >udd
     move_dir_quota ([dirs **]) 1000

These commands move or set  sufficient directory quota on udd for
100 projects  with the suggested default  project directory quota
of 1000.  If a site has more than 100 active projects a figure in
excess of 100000  must be chosen for the  initial directory quota
of udd.  The master.ec gives each new project a default directory
quota of 1000 pages by moving  1000 pages of directory quota from
udd.  The  system administrator should make sure  there is always
sufficient directory quota on udd to accommodate new projects.

It is also  suggested that all directories directly  off the root
with the  exception of pdd and  sl1 be given nonzero  segment and
directory quotas  large enough to accommodate  their current page
usage and  allowing for some growth.   The purpose of this  is to
cause the disk report to contain complete statistical information


Module Changes for MR12.3      5-19                       SIB12.3


on these directories (directories with  0 quotas are omitted from
the disk report).





















































Module Changes for MR12.3      5-20                       SIB12.3









                            APPENDIX A


                    MODULE CHANGES FOR MR12.3




This appendix  provides information about changes  to the Multics
operating system  on a segment basis.   The following information
applies  to changes  made to  the system  for the  MR12.3 release
only.

This appendix  is provided to  help sites identify,  to a segment
level, changes they  may have applied for emergency  bug fixes or
site dependent modifications to current system software.

Information is catagorized as follows:


     new info segments (added to >doc>info unless otherwise noted)
     new segments
     new or modified include files
     deleted segments
     modified segments























Module Changes for MR12.3      A-1                        SIB12.3


_N_E_W _I_N_F_O _S_E_G_M_E_N_T_S _F_O_R _M_R_1_2_._3


alm.info                         errata.cj52.info
calc.info                        find_source_file_.info
check_iacl.info                  fortran.info
copy.info                        manuals.gi.info
copy_dir.info                    memo.info
copy_dir_.info                   move.info
copy_seg_.info                   move_dir.info
display_mailing_address.info     mowse_io_.info
emacs.changes.info               pl1.info
errata.ak50.info                 pl1.info
errata.am82.info                 translator_info
errata.at58.info








































Module Changes for MR12.3      A-2                        SIB12.3


_N_E_W _S_E_G_M_E_N_T_S _F_O_R _M_R_1_2_._3


protocol_mpx.pl1



















































Module Changes for MR12.3      A-3                        SIB12.3


_N_E_W _O_R _M_O_D_I_F_I_E_D _I_N_C_L_U_D_E _F_I_L_E_S _F_O_R _M_R_1_2_._3


backup_volume_log.incl.pl1       dn355_data.incl.pl1
builtin_table.incl.pl1           language_utility.incl.pl1
cmcs_entry_dcls.incl.pl1         mowse_io_data.incl.pl1
cmtv.incl.pl1                    multiplexer_types.incl.pl1
cobol_addr_tokens.incl.pl1       oc_data.incl.pl1
cobol_fsb_type_1.incl.pl1        protocol_data.incl.pl1
cobol_fsbskel.incl.pl1           protocol_infos.incl.pl1
create_branch_info.incl.pl1      protocol_infos.incl.pl1
create_branch_info.incl.pl1      protocols.incl.pl1
disk_error_interp.incl.pl1       x25_data.incl.pl1










































Module Changes for MR12.3      A-4                        SIB12.3


_D_E_L_E_T_E_D _S_E_G_M_E_N_T_S _F_O_R _M_R_1_2_._3


There are no deleted modules for MR12.3.



















































Module Changes for MR12.3      A-5                        SIB12.3


_M_O_D_I_F_I_E_D _S_E_G_M_E_N_T_S _F_O_R _M_R_1_2_._3


PNOTICE_exec                     backup_control_mgr_
absadr                           backup_load
absolute_pathname_               backup_load_dir_list
acc_list_                        backup_map_
acc_name_                        backup_util
accept_fs_disk                   basic_
accept_rpv                       bcd_to_ascii_
access_audit_                    bce_abs_seg
access_audit_check_ep_           bce_alert
access_audit_log_fault_          bce_alm_die
access_audit_r1_                 bce_appending_simulation
access_audit_util_               bce_check_abort
access_class_check               bce_command_processor_
access_mode                      bce_component_to_wordnum_
access_operations_               bce_console_io
access_viol                      bce_continue
acl                              bce_copy_disk
acl_                             bce_create_sstnt
act_proc                         bce_data
activate                         bce_die
active_fnc_err_                  bce_display_disk_label
add_key                          bce_display_instruction_
add_mail_table_entry             bce_display_scu_
add_scu                          bce_dump
adjust_count                     bce_error
adjust_float_                    bce_esd
admin_                           bce_exec_com_
adopt_seg                        bce_exec_com_input
adopt_seg                        bce_execute_command_
aim_check_                       bce_fwload
aim_util_                        bce_get_defptr_
alloc_                           bce_get_flagbox
alloc_semantics                  bce_get_to_command_level
allocate_dir_ht_                 bce_inst_length_
alm                              bce_ioi_post
alm_syserr_caller                bce_list_requests_
announce_chwm                    bce_listen_
ansi_tape_io_                    bce_lock_mca
any_to_any_                      bce_map_over_requests_
append                           bce_name_to_segnum_
arc_sine_                        bce_parse_disk_spec
arc_tangent_                     bce_probe
asd_                             bce_query
assign_                          bce_query_af
assign_op                        bce_ready
asu_                             bce_request_table_
asum_data_                       bce_save
attribute_parse                  bce_save_util_
audit_                           bce_severity
authenticate_                    bce_shutdown_state


Module Changes for MR12.3      A-6                        SIB12.3


bce_state                        cat_op
bce_test_disk                    change_dtem
bfp_to_hfp_                      channel_comm_meters
bk_arg_reader_                   channel_manager
bk_input                         char_bit_offset_fcns_
bk_retrieve                      check_entryname_
bk_ss_                           check_gate_acl_
boot_rpv_subsystem               check_iacl
boot_tape_io                     check_trailer
bootload_0                       chname
bootload_abs_mode                clock_
bootload_console                 cm_compact
bootload_disk_io                 cmcs_create_queues_
bootload_disk_post               cmcs_date_time_
bootload_dseg                    cmcs_decode_status_
bootload_early_dump              cmcs_expand_tree_path
bootload_error                   cmcs_expand_tree_path_
bootload_faults                  cmcs_fillin_hdr_
bootload_flagbox                 cmcs_initiate_ctl_
bootload_formline                cmcs_print_
bootload_fs_                     cmcs_purge_queues_
bootload_fs_cmds_                cmcs_queue_ctl_
bootload_info                    cmcs_scramble_
bootload_io                      cmcs_set_lock_
bootload_linker                  cmcs_station_ctl_
bootload_loader                  cmcs_status_list_ctl_
bootload_qedx                    cmcs_terminal_ctl_
bootload_slt_manager             cmcs_tree_ctl_
bootload_tape_fw                 cmcs_wait_ctl_
bound_as_mpx_.bind               cmtv
bound_audit_.bind                cobol
bound_plio2_.bind                cobol_FILE_
bound_priv_mpx.bind              cobol_FP_
bound_teco_.bind                 cobol_IVAL
bound_temp_1                     cobol_MSORT_
boundfault                       cobol_NUMS_
buddy_alloc_                     cobol_RELEASE_
buddy_area_                      cobol_RETURN_
buddy_area_assign_               cobol_SET_
buddy_freen_                     cobol_SORTM_
builtin                          cobol_accept_gen
cache_priv                       cobol_add
cache_tester                     cobol_add2_binary_long
calc                             cobol_add2_binary_short
call_bce                         cobol_add3
call_ec_                         cobol_add_binary_gen
call_math_error_                 cobol_add_gen
call_outer_ring_                 cobol_addr
cam_cache                        cobol_allo_tm
cancel_cobol_program             cobol_alloc
canon_for_volume_label_          cobol_alter_gen
canon_resource_name_             cobol_alter_perform
carry_dump                       cobol_arg_descriptor


Module Changes for MR12.3      A-7                        SIB12.3


cobol_arith_move_gen             cobol_gen_ioerror
cobol_arithop_gen                cobol_generate_report
cobol_bin_const_ck               cobol_get_index_value
cobol_binary_check               cobol_get_num_code
cobol_blank_stripper_            cobol_get_size
cobol_build_resop                cobol_gns
cobol_c_list                     cobol_gns1
cobol_call_gen                   cobol_go_gen
cobol_call_op                    cobol_ided
cobol_cancel_gen                 cobol_idedsyn
cobol_ci_phase                   cobol_imp_word
cobol_close_gen                  cobol_init_
cobol_cmnio                      cobol_initstatic
cobol_compare_gen                cobol_insert_token
cobol_compare_values             cobol_inspect_gen
cobol_compute_bin_gen            cobol_io_
cobol_compute_gen                cobol_io_util
cobol_control_                   cobol_iocall
cobol_db                         cobol_ioerror
cobol_db_phase                   cobol_ioerror_abort
cobol_ddact1                     cobol_iomode
cobol_ddact2                     cobol_ioop_util
cobol_ddalloc                    cobol_lex
cobol_ddst                       cobol_lexeme
cobol_ddsyntax                   cobol_lexerr
cobol_decl_gen                   cobol_linage
cobol_def_init                   cobol_link_init
cobol_def_util                   cobol_load_register
cobol_delete_gen                 cobol_make_bin_const
cobol_delete_tokens              cobol_make_fsb_link
cobol_diag_table_                cobol_make_link
cobol_disable_gen                cobol_make_list
cobol_display_gen                cobol_make_merge_file
cobol_display_text               cobol_make_object_map
cobol_display_util               cobol_make_reg_token
cobol_divide_bin_gen             cobol_make_type3
cobol_divide_gen                 cobol_make_type9
cobol_enable_gen                 cobol_make_xref_
cobol_end_gen                    cobol_mcs
cobol_error_                     cobol_mcs_
cobol_exit_gen                   cobol_merge
cobol_exp3                       cobol_merge_gen
cobol_expand_source_             cobol_move_gen
cobol_ext_                       cobol_mpy
cobol_ext_ddsyn                  cobol_mpy3
cobol_ext_lex                    cobol_ms_handler
cobol_file_util                  cobol_mst
cobol_find_secdef                cobol_multiply2_binary
cobol_fix_driver_                cobol_multiply_bin_gen
cobol_fixup                      cobol_multiply_gen
cobol_fofl_mask                  cobol_ntio
cobol_gen_driver_                cobol_num_to_udts
cobol_gen_error                  cobol_opch_init


Module Changes for MR12.3      A-8                        SIB12.3


cobol_opch_is                    cobol_short_to_longbin
cobol_opch_op_call               cobol_sort_gen
cobol_open_gen                   cobol_sort_util
cobol_open_util                  cobol_source_formatter_
cobol_operators_                 cobol_start_gen
cobol_output_tokens              cobol_stop_gen
cobol_paragraph_gen              cobol_store_binary
cobol_paste                      cobol_string
cobol_patch                      cobol_string_gen
cobol_pd_code                    cobol_su_
cobol_pdst                       cobol_subtract_gen
cobol_pdstax                     cobol_sym_init
cobol_perform_gen                cobol_syntax_trace_
cobol_pic_val_comp               cobol_trans_alphabet
cobol_pointer_register           cobol_unstring
cobol_pool                       cobol_unstring_gen
cobol_print_diag                 cobol_usrwd
cobol_proc_copy                  cobol_version
cobol_proc_sort                  cobol_write_gen
cobol_process_error              collect_free_core
cobol_profile                    com_err_
cobol_prologue_gen               comm_meters_
cobol_purge_gen                  command_processor_
cobol_r_initialize               command_query_
cobol_read_ft                    commit
cobol_read_gen                   compare_declaration
cobol_read_rand                  condition_
cobol_receive_gen                config_
cobol_reg_manager                config_data_
cobol_register                   config_deck_data_
cobol_register_util              config_deck_edit_
cobol_release_gen                config_deck_parse_
cobol_reloc                      configure_test_cpu
cobol_repl3                      connection_list_manager_
cobol_repl3_expand               constant_token
cobol_replb                      context
cobol_report_writer              context_processor
cobol_res_words                  convert
cobol_reset_r                    convert_access_class_
cobol_reswd_table_               convert_access_operation_
cobol_return_gen                 convert_binary_integer_
cobol_rewrite_gen                convert_date_to_binary_
cobol_rts_                       copy
cobol_rts_handler_               copy_
cobol_search_gen                 copy_
cobol_section_gen                copy_dir_
cobol_seginit_gen                copy_expression
cobol_send_gen                   copy_fdump
cobol_set_fsbptr                 copy_on_write_handler_
cobol_set_gen                    copy_pdir_
cobol_set_pdir                   copy_stack_0
cobol_set_pr                     copy_unique_expression
cobol_set_type40                 core_queue_man


Module Changes for MR12.3      A-9                        SIB12.3


correct_qused                    define_area_
countervalidate_label_           defined_reference
cp_data_                         del_dir_tree
cplx_dec_ops_                    delentry
crawlout_default_handler_        delete
create                           delete_key
create_block                     delete_record
create_homedir_                  delete_segs
create_hproc                     delete_volume_log
create_ips_mask_                 delete_vtoce
create_root_dir                  demand_deactivate
create_root_vtoce                demount_pv
create_rpv_partition             descriptor_parse
create_vtoce                     device_control
create_wordlist                  dial_ctl_
cu_                              dir_dump
cv_bin_                          dir_lock_init
cv_config_card_                  disk_control
cv_dec_                          disk_emergency
cv_error_                        disk_error_data
cv_float_                        disk_init
cv_fsdisk_error_                 disk_name_pvtx
cv_fstime_                       disk_reader
cv_integer_string_               disk_rebuild
cv_rcp_attributes_               disk_rebuild_caller
data_list_parse                  disk_run
date_name_                       disk_table_
date_time_                       display_access_class_
dbm_man                          display_cobol_run_unit
dbr_util_                        display_disk_label_
dc_find                          display_psp
dctl                             display_pvolog
deact_proc                       display_volume_log
deactivate                       dm_log_
deactivate_for_demount           dmpr_arg_reader_
deactivate_segs                  dmpr_finish_
debug_check                      dmpr_log_
dec_ops_                         dmpr_output_
deckfile_manager                 dn355
declare                          dn355_boot_interrupt
declare_constant                 dn355_messages
declare_descriptor               dn355_util
declare_integer                  do_parse
declare_label                    do_semantics
declare_parse                    double_arc_sine_
declare_picture                  double_arc_tangent_
declare_picture_temp             double_exponential_
declare_pointer                  double_logarithm_
declare_structure                double_principal_angle_
declare_temporary                double_sine_
decode_descriptor_               double_square_root_
default_error_handler_           double_tangent_
default_parse                    dsc_probe_requests_


Module Changes for MR12.3      A-10                       SIB12.3


dsc_requests_                    find_file_partition
dsc_sm_requests_                 find_partition
dsp1                             find_pathname_
dsp2                             find_rpv_subsystem
dsp3                             find_source_file_
dsp_DSA_LETTER_                  flagbox_mgr
dsptm_                           flush_ast_pool
dspuft_                          fnp_init
dump_cdt_                        fnp_multiplexer
dump_cmf_                        fnp_throughput
dump_volume_                     fnp_util
e_defpl1_                        force_write
e_mail_pl1_                      format_cobol_source
e_redisplay_                     format_list_parse
ebcdic8_to_ascii_                formline_
ebcdic_to_ascii_                 fort_math_ops_
edx_util_                        fort_version_info
emacs_rmail_                     free_store
encode_clock_value_              freecore
enter_abs_request_               fs_alloc
equal                            fs_get
error                            fs_modes
error_                           fs_move
establish_config_deck            fs_search
establish_temp_segs              fsout_vol
evaluate                         function
evict_page                       fv_iv_template
expand_assign                    generic_selector
expand_by_name                   get_addr_
expand_cobol_source              get_addr_
expand_infix                     get_array_size
expand_initial                   get_aste
expand_pathname_                 get_at_entry_
expand_prefix                    get_control_point_id_
expand_primitive                 get_defname_
exponential_                     get_defptr_
expression_parse                 get_entry_name_
expression_semantics             get_equal_name_
ext_parse                        get_io_segs
fast_connect_init                get_kstep
fast_hc_ipc                      get_main
ffop                             get_mcm_meters
file                             get_pathname_
file_                            get_ppr_
file_util                        get_process_id_
filemap_checksum_                get_process_usage
fill_refer                       get_ptrs_
fill_vol_extents_                get_pvtx
fim                              get_size
fim_util                         get_temp_segments_
find_bit_                        get_tpr_
find_char_                       getuid
find_command_                    gfms_substructure_records_


Module Changes for MR12.3      A-11                       SIB12.3


grab_aste                        initialize_int_static
hardcore_sct_seg                 initialize_kst
hardware_fault                   initializer
hash                             initiate_
hash_index_                      initiate_search_rules
hasp_meters_                     install_ttt_
hc_device_acct_                  integer_power_integer_
hc_dm_util                       interpret_info_struc_
hc_dmpr_primitives               interpret_oncode_
hc_exponent_control              io_chnl_util
hc_initlzr_auxl_init_            io_config_init
hc_ipc                           io_data_list_semantics
hc_load_mpc                      io_error
hc_page_trace                    io_log_status_info
hc_tune                          io_manager
hfp_to_bfp_                      io_reconfig
history_reg_save                 io_semantics
ibm3270_meters_                  io_statement_parse
if_parse                         ioa_
illegal_procedure                ioam_
imft_receive_object_             iod_tables_compiler
index_set                        iodc_
init_aste_pools                  ioi_assignment
init_bce                         ioi_config
init_branches                    ioi_connect
init_clocks                      ioi_device
init_disk_pack_                  ioi_get_status
init_dm_journal_seg              ioi_init
init_early_config                ioi_masked
init_empty_root                  ioi_page_table
init_hardcore_gates              ioi_set
init_hc_part                     ioi_suspend_devices
init_lvt                         ioi_usurp_channels
init_partitions                  ioi_verify_lock
init_proc                        ioi_wire
init_pvt                         ioi_workspace
init_root_dir                    iom_assign
init_root_vols                   iom_connect
init_scavenger_data              iom_data_init
init_scu                         iom_error
init_sst                         iom_interrupt
init_sst_name_seg                iom_overhead
init_stack_0                     iom_reset
init_str_seg                     iom_switches
init_sys_var                     iom_switches
init_syserr_log                  iom_unassign
init_toehold                     ios_
init_vol_header_                 ios_signal_
init_volmap_seg                  ios_write_around_
init_vtoc_man                    iox_
initial_error_handler            iox_attach_name
initialize_faults                iox_close_file
initialize_faults_data           iox_detach


Module Changes for MR12.3      A-12                       SIB12.3


iox_find_iocb                    log_name_
iox_get_options                  log_position_
iox_init_                        log_read_
iox_measure_options              log_salvage_
iox_open_file                    log_segment_
iox_propagate                    log_wakeup_
iox_signal_                      log_write_
ipc_                             logarithm_
ipc_data_                        logical_volume_manager
ipc_fast_                        lookup
ipc_real_                        lot_fault_handler_
ipc_util_                        lv_request_
ipc_validate_                    lv_request_communicator_
ips_                             m_a
isot_fault_handler_              mail_table_mgr_
jump_op                          make_branches
kermit                           make_msf_
kermit_get_filenames_            make_sdw
kermit_pad_                      make_seg
kermit_receive_                  make_segs_paged
kermit_remote_requests_          makeknown_
kermit_send_                     makestack
kermit_xfer_modes_               makeunknown_
kst_info                         map_free_count
kst_util                         map_onto_disk
kstsrch                          mask_instruction
lap_simplex                      match_arguments
level                            match_star_name_
level_0_                         math_constants_
level_error                      math_routines_
lex                              math_routines_end_
lg_ctl_                          mca_init_
limit_covert_channel             mcs_timer
link_man                         mcs_timer_daemon
link_snap                        mcs_trace
link_trap_caller_                mcs_version
linkage_error_                   mdc_check_mdcs_
list                             mdc_create_
list_inacl_all                   mdc_init_
list_init_                       mdc_lock_
load_disk_mpcs                   mdc_parse_acct_
load_mst                         mdc_repair_
load_system                      mdc_set_
lock                             mdc_set_path_
lock_mca                         mdc_status_
lock_volmap                      mdc_util_
log_create_                      mdcs_util_
log_data_                        mdx
log_initialize_                  memo
log_initiate_                    memo_list_
log_limit_scan_                  merge_attributes
log_list_history_                merge_volume_log
log_move_                        message_table_


Module Changes for MR12.3      A-13                       SIB12.3


meter_ast_lock                   pathname_
meter_response_time              pathname_am
mlsys_mailbox_mgr_               pc
mlsys_misc_utils_                pc_abs
mlsys_nit_interface_             pc_check_tables_
mlsys_parse_control_args_        pc_deposit
mlsys_storage_mgr_               pc_recover_sst
mlsys_transmit_                  pc_signal
mode_string_                     pc_trace
mos_memory_check                 pc_trace_pl1
mountedp                         pc_wired
move_non_perm_wired_segs         picture_info_
move_r_or_t_                     pipe_
mowse_io_                        pl1_decat_char_
mrds_dsl_delete                  pl1_error_print
mrds_dsl_modify                  pl1_macro
mrl_                             pl1_macro_error_
mseg_fs_interface_               pl1_macro_lex_
msf_manager_                     pl1_operators_
multiplexer_mgr_                 pl1_resignaller_
mvt_                             pl1_signal_
new_proj                         pl1_signal_conversion_
nonlocal_goto_                   pl1_snap_
numeric_to_ascii_                pl1_symbol_print
numeric_to_ascii_base_           pl1_version
object_info_                     plio2_signal_
object_lib_                      plus
obs_reconfigure                  pool_manager_
oc_trans_input_                  post_purge
oc_trans_output_                 power_
ocd_                             power_integer_
ocdcm_                           prds_init
offset_adder                     pre_link_hc
on_line_salvager                 prepare_symbol_table
on_parse                         principal_angle_
ondata_                          print
op_mnemonic_                     print_data
operator_process_cmds_           print_mail
operator_semantics               priv_channel_manager
optimizer                        priv_delete_vtoce
other_process_info               priv_hasp_mpx
outward_call_handler             priv_ibm3270_mpx
pa_search_list                   priv_mcs_trace
page                             priv_polled_vip_mpx
page_error                       priv_x25_mpx
page_fault                       private_logical_volume
page_synch                       privileged_mode_ut
parity_check                     probe_get_expr_
parse                            proc_info
parse_error                      proc_int_handler
parse_tape_reel_name_            procedure_parse
parse_tty_name_                  process_cobol_report
partition_io                     process_entry


Module Changes for MR12.3      A-14                       SIB12.3


protocol_mpx                     rcp_rcse_
ptw_util_                        rcp_reconfigure_
purge_volume_log                 rcp_reserve_
put_aste                         rcp_resource_info_
put_field_                       rcp_ring1_init_
put_format_                      rcp_set_lock_
pxss                             rcp_setup_event
qedx                             rcp_tape_
qedx_                            rcp_tape_survey_
quota                            rcp_unassign_
quota_util                       rcp_unload_
quotaw                           rcp_validate_
rcp_access_kernel_               rcprm_find_op
rcp_access_kernel_setup          rcprm_find_resource_
rcp_assign_device_               rcprm_journal_file_
rcp_attach_                      rcprm_journalize_
rcp_attach_lv_                   rcprm_list_resource_
rcp_audit                        rcprm_registry_mgr_
rcp_authenticate_device_         rcprm_registry_util_
rcp_auto_register_               rcprm_verify_registries_
rcp_cancel_id_                   rdisk_
rcp_cancel_resource_             rdm_apply_request_
rcp_check_assign_                rdm_file_requests_
rcp_check_attach_                rdm_forward_request_
rcp_check_attach_lv_             rdm_mailbox_interface_
rcp_comment_                     rdm_mbx_requests_
rcp_compute_aim_mode             rdm_message_mark_mgr_
rcp_compute_bracket_mode         rdm_msg_requests_
rcp_compute_raw_mode             rdm_reply_request_
rcp_control_                     read_cards_
rcp_copy_                        read_disk
rcp_detach_                      read_disk_label
rcp_detach_lv_                   real_initializer
rcp_device_info_                 rebuild_dir
rcp_disk_                        rebuild_pvolog
rcp_find_                        receive_file_
rcp_force_unassign_              reclassify
rcp_get_scratch_volume_          reconfig
rcp_init                         reconfigure
rcp_ioi_attach_                  record_io_
rcp_lock_                        record_status
rcp_lv_                          recover_volume_log
rcp_match_                       ref_name_
rcp_match_user_name_             refer_extent
rcp_merge_modes                  reference_parse
rcp_message_                     reload
rcp_mount_timer_                 reload_volume_
rcp_mount_timer_poll_            reloader
rcp_operation_access             relocate_instruction_
rcp_pointers_                    requote_string_
rcp_pre_claim_                   reserve
rcp_preload_                     resource_info_
rcp_promote_                     retrieve_from_volume_


Module Changes for MR12.3      A-15                       SIB12.3


retv_copy                        scs_and_clock_init
retv_util                        sct_manager_
retv_vol_control_                sdm_mbx_requests_
ring0_init                       sdm_original_requests_
ring_0_peek                      sdw_util_
ring_alarm                       search_ast
ringbr_                          search_file_
rldr_arg_reader_                 seg_fault
rldr_check_pvol_                 segment_loader
rldr_finish_                     segment_mover
rldr_input_                      segno_usage
rldr_label_                      semantic_translator
rldr_output_                     set
rldr_report_                     set_alarm_timer
rldr_volume_map_                 set_disk_table_loc
rldr_vtoc_buffer_                set_ext_variable_
rldr_vtoc_header_                set_kst_attributes
rollback                         set_lock_
rsw_util                         set_privileges
rtcd_util_                       set_procs_required
salv_caller                      set_smic_pattern
salv_check_vtoce_                set_sons_lvid
salv_dir_checker_                set_special_password
salv_directory                   set_stack_ptr
salv_dump_copy                   set_sys_audit_thresholds_
salv_err_msg                     set_system_time_zone_
salvage_pv                       set_volume_log
salvager                         setfaults
save_handler_mc                  share_expression
sc_abort_line_util_              shutdown
sc_admin_command_                shutdown_file_system
sc_admin_mode_                   signal_
sc_command                       simplify_expression
sc_create_sci_                   simplify_offset
sc_edit_motd_                    sine_
sc_exec_request_                 slt_manager
sc_execute_command_line_         special_messages_
sc_get_error_name_               square_root_
sc_init_                         stack_header_util_
sc_ipc_mask_                     stack_oob_handler
sc_process_command_line_         star_
sc_request_table_                start_cpu
sc_requests_                     state_man
sc_shutdown_                     statement_parse
sc_signal_handler_               statement_type
sc_signal_io_handler_            status
sc_stat_                         status_
scan_token_table                 stock
scas_init                        stock_man
scavenge_volume                  stop_cobol_run
scavenger                        stop_cpu
scr_util                         stop_process
scs                              structure_library_2_


Module Changes for MR12.3      A-16                       SIB12.3


structure_library_4_             template_area_header
sty_mpx                          template_slt_
sub_err_                         terminate_
subscripter                      terminate_proc
substr                           thread
sum                              time_defaults_
summarize_sys_log                time_info_
switch_shutdown_file_system      timer_manager_
syn_                             toehold
sys_log_                         trace
sys_trouble                      trace_mc
syserr                           translator_info_
syserr_copy                      trap_caller_caller_
syserr_copy_wired_log            truncate
syserr_log_daemon                truncate_stacks
syserr_real                      truncate_vtoce
syserr_seg_manager               try_to_unlock_lock
system                           tty_analyze
system_comm_meters               tty_area_manager
system_control_                  tty_dump
system_startup_                  tty_index
tangent_                         tty_interrupt
tape_checksum_                   tty_lock
tape_dim_data_                   tty_modes
tape_error_data                  tty_overstrike_canon
tape_ioi_                        tty_read
tape_ioi_activate                tty_replace_canon
tape_ioi_buffer_man              tty_space_man
tape_ioi_error_retry             tty_tables_mgr
tape_ioi_hardware_status         tty_util_
tape_ioi_io                      tty_write
tape_ioi_modes                   uid_path_util
tape_ioi_utils                   uncp
tape_ioi_wks_man                 uncp_boot_interrupt
tape_mult_                       uncp_multiplexer
tape_mult_close_                 uncp_util
tape_mult_detach_                unique_bits_
tape_mult_labeler_               unique_chars_
tape_mult_modes_                 unpack_picture_
tape_mult_open_                  unwind_stack_
tape_mult_parse_                 unwinder_
tape_mult_read_                  update_kste_access
tape_mult_util_                  update_vtoce
tape_mult_write_                 user_wire
tape_reader                      v2pl1
tc                               vacate_pv
tc_init                          validate
tc_shutdown                      validate_cpu_card
tc_util                          validate_info_seg
ted4                             value_list
ted_                             verify_dump_volume
tedaddr_                         verify_label_
template_address_space           verify_lock


Module Changes for MR12.3      A-17                       SIB12.3


video_utils_                     wired_plm
vip7760_meters_                  wired_shutdown
vm_vio                           wired_utility_
volmap                           wkp_signal_handler_
volmap_page                      write_record
volmap_util                      ws_channel_
volume_cross_check               ws_debug_
volume_registration_cmds_        ws_packet_dispatcher_
volume_registration_mgr_         ws_packet_receiver_
vrm_lock_                        ws_packet_transmitter_
vtoc_attributes                  ws_timer_
vtoc_interrupt                   ws_tools_
vtoc_man                         ws_tty_main_
vtoc_search                      ws_tty_mgr_
vtoce_stock_man                  ws_tty_read_
wdx                              ws_tty_write_
wioctl_                          x25_analyze_
wire_proc                        x25_dump_
wire_stack                       x25_mpx
wired_fim                        x25_mpx_data
wired_hardcore_data


































Module Changes for MR12.3      A-18                       SIB12.3









                            APPENDIX B


                    FORMATTING DISKS WITH MTR




This  appendix describes  a procedure  for formatting  disk packs
using the Media Test Routines  (MTRs).  The procedure utilizes an
annotated script  which shows typical input  and output.  Because
the  formatting procedures  differ for  MSU0451 and  MSU0500/0501
devices,  separate scripts are  provided.  In the  scripts, input
typed by the user is preceded by a ox (bullet).


_F_O_R_M_A_T_T_I_N_G _M_S_U_0_4_5_1 _D_I_S_K _P_A_C_K_S

The following script shows how to run MTR tests 6 and 3 to format
and test an MSU0451 disk pack, and to assign alternates to tracks
found defective during testing.

 1.  Enter the Total OnLine Test System (TOLTS):

ox bound_tolts_$tolts_

  ***tolts executive version 810301 on 820812 at 20.071

 2.  Enter the MPC OnLine Test Subsystem (MOLTS):

  ***enter "polts", "molts", "colts", "isolts", "quit", or "msg"
  ???  ox molts
















Formatting Disks With MTR      B-1                        SIB12.3


 3.  List  the  disk  configuration  for  the  disk  string which
     formatting will be done
      (because of page constraints,  the following message is not
     an exact copy of that which is displayed by the system):

  ???  ox test pcd

  peripheral configuration:

  dska 451 16 units; starting with device no. 1
   020xx   primary channel of 4 logical channels on mpc mspa
   026xx   secondary channel of 4 logical channels on mpc mspa
   124xx   secondary channel of 4 logical channels on mpc mspb
   122xx   secondary channel of 4 logical channels on mpc mspb



 4.  Enter MTR test 6 to format and test the MSU0451 device:

  ??? ox test mmt12020t6

     where  "test mmt12020t6"  is a  sample of  the input  format
     "test mmtICCDDtT":

        mmt  identifies the MTR test package

        ICC  gives the IOM number (0 = IOM A, 1 = IOM B, etc) and
             channel  number (in decimal)  of a channel  by which
             the  device to  be formatted  can be  addressed.  It
             must be  one of those  shown in the  output of "test
             pcd" in step 3.  In the sample input above, "120" is
             IOM B, channel 20.

        DD   gives the  device number (in decimal)  of the device
             to be tested.  In the  sample input, it is device 20
             (dskb_20).

        T    gives the number of the MTR test to be run.  In this
             case, test 6 should be run to format/test a pack.
















Formatting Disks With MTR      B-2                        SIB12.3


 5.  The following output describes steps  taken by MTR test 6 to
     attach the disk drive and mount the pack for writing:

  ***molts executive versions 820601 820701 on 820812 at 19.97
  **0(mmt12020) short wait, allocation queued
  **0(mmt12020) start tmt65a-rmc1, ttldat 820331, phy./log. id t//04
  **0(mmt12020) start tmt65b-rmc2, ttldat 820331, phy./log. id t//04
  **0(mmt12020) start tmt65c-rmc3, ttldat 820401, phy./log. id t//04
  **0(mmt12020) start tmt65d-rmc4, ttldat 820405, phy./log. id t//04
  **0(mmt12020) start tmt65e-rmc5, ttldat 820421, phy./log. id t//04
  **0(mmt12020) start tmt65f-rmc6, ttldat 820331, phy./log. id t//04
  **0(mmt12020)
  rmc6 is at your service to format a disk pack -
  **0(mmt12020)
  ***** write permission granted *****
  **0(mmt12020)
  ***** begin format pack *****
  the test will format all tracks on the pack.  format will
  defined by device type.  bad tracks will be marked defective
  (no alt.  assigned).
  **0(mmt12020)
  system device code = .ds450

 6.  Answer MTR  initialization questions (not a  restart, normal
     formatting, and use 3 write patterns during testing):

  **0(mmt12020)
  is this a restart?  enter (y or n) - ox n
  **0(mmt12020)
  select (f)ast or (n)ormal format?  (f)ast format is designed
  for data security erase and/or test purposes.  (n)ormal format
  is designed for disk packs that are going to be used in systems
  applications.  enter (f or n) - ox n
  **0(mmt12020)
  select from "1" to "7" write patterns?  enter (1 thru 7) - ox 3

 7.  At this point, formatting of the pack begins:

  **0(mmt12020)
  ***** begin disk pack format *****















Formatting Disks With MTR      B-3                        SIB12.3


 8.  After the  message in Step  7 is displayed,  press the BREAK
     key to interrupt formatting  operations.  When MOLTS prompts
     for  input,  set  test   options  to:   report  the  current
     cylinder/head (CCC/HH) address; display CCC/HH for transient
     errors;  report  test  progress  every  100  cylinders, with
     summary reports attached.

  ox <PRESS BREAK KEY>
  ???  ox test momt12020.r

      where "test momt12020.r" is a sample of the input format
      "test momtICCDD.O":

        momt    identifies request to set options

        ICCDD   are the IOM, Channel  and Device numbers given in
                Step 4.

        .r      is  the first  option, to  report current  CCC/HH
                location.

     Set the remaining options when prompted:

  *0(mmt12020) t6 enter options:  ox .i
  *0(mmt12020) t6 enter options:  ox .e
  *0(mmt12020) t6 enter options:  ox .s
  *0(mmt12020) t6 enter options:  ox .t
  *0(mmt12020) t6 enter options:  ox .go

 9.  When the  .go option is entered  in Step 8, MTR  reports the
     current location being formatted  and displays the defective
     tracks  found.   It  then  asks  if  you  want  to  continue
     formatting:

  **0(mmt12020)
  format function current addr. = 007/00
  **0(mmt12020)
  format function current addr. = 007/00
  **0(mmt12020)
  ***** rmc6 - summary report *****
  no tracks were formatted defective
  **0(mmt12020)
  do you want the test to continue?  enter (y or n) - ox y












Formatting Disks With MTR      B-4                        SIB12.3


10.  After  every  100  cylinders  are  formatted,  MTR  displays
     defective  tracks  found.   For  example,  the final summary
     displayed just before formatting completes, looks like:

  **0(mmt12020)
  rmc6 has formatted tracks "000/00 thru 700/00"
  **0(mmt12020)
  ***** rmc6 - summary report *****
  no tracks were formatted defective
  **0(mmt12020)
  rmc6 has formatted tracks "000/00 thru 800/00"
  **0(mmt12020)
  ***** rmc6 - summary report *****
  no tracks were formatted defective
  **0(mmt12020)
  ***** disk pack format complete *****

11.  After formatting is complete,  MTR begins testing the tracks
     on  the  formatted  pack.    Defective  tracks  are  usually
     encountered only during the  testing phase.  Error summaries
     are displayed after every 100 cylinders have been tested.

  start media test phase
  **0(mmt12020)
  rmc6 has tested tracks "000/00 thru 100/00"
  **0(mmt12020)
  ***** rmc6 - summary report *****
  no tracks were formatted defective
  **0(mmt12020)
  rmc6 has tested tracks "000/00 thru 200/00"
  **0(mmt12020)
  ***** rmc6 - summary report *****
  no tracks were formatted defective
  **0(mmt12020)
  rmc6 has tested tracks "000/00 thru 300/00"
  **0(mmt12020)
  ***** rmc6 - summary report *****
  defective - marginal data field on std track
  217/10
  **0(mmt12020)
  ***** rmc6 - summary report *****
  defective - unrec. data field on std track
  244/06,245/06
  **0(mmt12020)
  ***** rmc6 - summary report *****
  reclaimed - reformatted and certified
  246/06








Formatting Disks With MTR      B-5                        SIB12.3


12.  When  testing is  complete, termination  summary reports are
     displayed:

  **0(mmt12020)
  ***** normal termination summary reports *****
  **0(mmt12020)
  ***** rmc6 - summary report *****
  defective - marginal data field on std track
  217/10
  **0(mmt12020)
  ***** rmc6 - summary report *****
  defective - unrec. data field on std track
  244/06,245/06
  **0(mmt12020)
  ***** rmc6 - summary report *****
  reclaimed - reformatted and certified
  246/06

13.  MTR then asks  if you want to select a  new test (answer "y"
     for yes):

  **0(mmt12020)
  want to select a new test?
  enter (y or n) - ox y

14.  MTR then  displays information describing how  to select the
     next test:

  **0(mmt12020)
  rmc6 will go into waiting!
  select test (t1 thru t6)
  enter test no. thru standard option call (test momticcddtx) -
  **0(mmt12020)
  waiting





















Formatting Disks With MTR      B-6                        SIB12.3


15.  To actually  select the next  test, press the  BREAK key and
     wait  for  the  MOLTS  prompt.   Then  select  test 3, which
     assigns  alternate  tracks  for  those  tracks  found  to be
     defective above.

  ox <PRESS BREAK KEY>
  ???  ox test momt12020t3

     where "test momt12020t3" is a sample of the input format
     "test momtICCDDtT":

        momt    identifies request to set options

        ICCDD   are the IOM, Channel  and Device numbers given in
                Step 4.

        tT      gives the number of the next test to run.

     Test 3 initialization displays the following information:

  **0(mmt12020) start tmt65e-rmc5, ttldat 820421, phy./log. id t//04
  **0(mmt12020) start tmt65d-rmc4, ttldat 820405, phy./log. id t//04
  **0(mmt12020) start tmt65c-rmc3, ttldat 820401, phy./log. id t//04

16.  Select  subtest 4  of test  3, to  assign alternates  to all
     defective tracks:

  **0(mmt12020)
  rmc3 is at your service
  for track and cylinder reformat -
  select a sub test
  a) subtst 1 - reformat 1 track (good)
  b) subtst 2 - reformat 1 cylinder (good)
  c) subtst 3 - reformat 1 track (defective)
  d) subtst 4 - assign alternate tracks
  enter (1 thru 4) - ox 4



















Formatting Disks With MTR      B-7                        SIB12.3


17.  MTR then briefly describes the subtest, and asks if you want
     to continue (answer "y" for yes)

  **0(mmt12020)
  ***** begin subtst 4 *****
  assign alternate tracks on the device
  a) subtst will search thru all standard tracks looking for
     tracks marked defective (no alternate assigned).
  b) when a track marked defective (no alternate assigned) is
     detected, the subtst will stop and process this track.
  c) the alternate track processor will go out to the alternate
     track cylinders and find the first available alternate.  it
     will mark the track as assigned alternate.  then it will
     mark the standard track as defective (alt.  assigned).
  d) the search process will terminate after the last standard
     track completes testing and/or processing.
  do you want the subtst to continue?  enter (y or n) - ox y

18.  MTR then  asks for permission to overwrite  the pack's label
     (answer "y" for yes):

  **0(mmt12020)
  ***** rmc3 - label obliterate warning *****
  all sub tests in rmc3 will overwrite the system
  label on track zero.
  do you want the sub test to continue?  enter (y or n) - ox y

19.  MTR then asks if you are restarting (answer "n" for no):

  **0(mmt12020)
  system device code = .ds450
  **0(mmt12020)
  is this a restart?  enter (y or n) -  ox n

20.  MTR then  begins displaying summary reports  after every 100
     cylinders are checked for alternate assignments:

  **0(mmt12020)
  rmc3 has tested tracks "000/00 thru 200/00"
  **0(mmt12020)
  ***** rmc3 - subtst 4 summary report *****
  no alternate tracks were assigned
  **0(mmt12020)
  rmc3 has tested tracks "000/00 thru 300/00"
  **0(mmt12020)
  ***** rmc3 - subtst 4 summary report *****
  defective - alt assigned
   def         alt         def         alt
  cyl/hd      cyl/hd      cyl/hd      cyl/hd
  217/10      811/00      244/06      811/01
  245/06      811/02




Formatting Disks With MTR      B-8                        SIB12.3


21.  After  alternate assignments  are complete,  MTR displays  a
     summary report describing all alternates on the pack:

  **0(mmt12020)
  ***** normal termination summary reports *****
  **0(mmt12020)
  ***** rmc3 - subtst 4 summary report *****
  defective - alt assigned
   def         alt         def         alt
  cyl/hd      cyl/hd      cyl/hd      cyl/hd
  217/10      811/00      244/06      811/01
  245/06      811/02

22.  MTR then asks  if you want to select a  new test (answer "n"
     for no, and "quit" to exit from TOLTS).

  **0(mmt12020)
  want to select a new test?
  enter (y or n) - ox n
  **0(mmt12020) normal term 1
  ***molts executive version 820701 off 820812 at 21.45 p.t. 119530

  ***enter "polts", "molts", "colts", "isolts", "quit", or "msg"
  ???  ox quit

  ***tolts executive version 810301 off 820812 at 21.375
  r 21:37 1107.348 1162




























Formatting Disks With MTR      B-9                        SIB12.3


_F_O_R_M_A_T_T_I_N_G _M_S_U_0_5_0_0_/_M_S_U_0_5_0_1 _D_I_S_K _P_A_C_K_S

The following script shows how to run MTR tests 6 and 7 to format
and  test  an  MSU0500  or  MSU0501  disk  drive,  and  to assign
alternates to tracks found defective during testing.

The MPC normally  treats an MSU0500 or MSU0501 disk  drive as two
separately addressable  devices.  However, MTR formats  and tests
both logical devices during a single invocation, referring to one
as the "odd  device" (e.g., dskc_27) and the second  as the "even
device" (e.g., dskc_28).  MTR refers to both logical devices as a
single "head assembly" or "hda".

 1.  Enter the Total OnLine Test System (TOLTS):

ox bound_tolts_$tolts_

  ***tolts executive version 810301 on 820812 at 20.071

 2.  Enter the MPC OnLine Test Subsystem (MOLTS):

  ***enter "polts", "molts", "colts", "isolts", "quit", or "msg"
  ???  ox molts

 3.  List the disk configuration:

  ???  ox test pcd

  peripheral configuration:

  dskc 501 32 units; starting with device no. 1
   028xx   primary channel of 4 logical channels on mpc mspc
   030xx   secondary channel of 4 logical channels on mpc mspc
   130xx   secondary channel of 4 logical channels on mpc mspd
   128xx   primary channel of 4 logical channels on mpc mspd




















Formatting Disks With MTR      B-10                       SIB12.3


 4.  Enter MTR  test 6 to format  and test the entire  MSU0500 or
     MSU0501 device:

  ???  ox test mmt12827t6

     where "test mmt12827t6" is a sample of the input format
     "test mmtICCDDtT":

        mmt     identifies the MTR test package

        ICC     gives the IOM number (0 =  IOM A, 1 = IOM B, etc)
                and  channel number  (in decimal)  of achannel by
                which   the  device   to  be   formatted  can  be
                addressed.It  must be one  of those shown  in the
                output of  "test pcd" in  step 3.  In  the sample
                input above, "128" is IOM B, channel 28.

        DD      gives  the  device  number  (in  decimal)  of the
                device to be tested.  In  the sample input, it is
                device  27  (dskc_27).   Always  give  the device
                number  of the  "odd device"  associated with the
                disk drive.

        T       gives the number  of the MTR test to  be run.  In
                this  case, test 6  should be run  to format/test
                the drive.

 5.  The following output describes steps  taken by MTR test 6 to
     attach the disk drive for writing:

  ***molts executive versions 820601 820701 on 820805 at 20.08
  **0(mmt12827) short wait, allocation queued
  **0(mmt12827) short wait, allocation queued
  **0(mmt12827) start tmt67a-mtr1, ttldat 820401, phy./log. id t//04
  **0(mmt12827) start tmt67b-mtr2, ttldat 820401, phy./log. id t//04
  **0(mmt12827) start tmt67c-mtr3, ttldat 820402, phy./log. id t//04
  **0(mmt12827) start tmt67d-mtr4, ttldat 820405, phy./log. id t//04
  **0(mmt12827) start tmt67e-mtr5, ttldat 820421, phy./log. id t//04
  **0(mmt12827) start tmt67f-mtr6, ttldat 820405, phy./log. id t//04
  **0(mmt12827)
  mtr6 is at your service to format a physical device -
  **0(mmt12827)
  ***** write permission granted *****
  **0(mmt12827)
  ***** begin upgrade/downgrade hda *****
  the test will format all tracks on the hda.  the format will be
  defined by device type.  bad tracks will be marked defective
  (no alternate).







Formatting Disks With MTR      B-11                       SIB12.3


 6.  Answer MTR  initialization questions (ok to  format with 512
     words per sector, not a  restart, normal formatting, and use
     3 write patterns during testing):

  **0(mmt12827)
  device pair are configured as msu0501's
  the hda will be formatted in (512) words/sector.
  is this correct?
  enter (y or n) -  ox y
  **0(mmt12827)
  is this a restart?
  enter (y or n) -  ox n
  **0(mmt12827)
  select (f)ast or (n)ormal format?
  (f)ast format is designed for data security
  erase and/or test purposes.
  (n)ormal format is designed for hda's to be used
  in systems applications.
  enter (f or n) -  ox n
  **0(mmt12827)
  select from "1" to "7" write patterns?
  enter (1 thru 7) -  ox 3

 7.  At this point, formatting of the pack begins:

  **0(mmt12827)
  ***** begin hda format *****




























Formatting Disks With MTR      B-12                       SIB12.3


 8.  After the  message in Step  7 is displayed,  press the BREAK
     key to interrupt formatting  operations.  When MOLTS prompts
     for  input,  set  test   options  to:   report  the  current
     cylinder/head (CCC/HH) address; display CCC/HH for transient
     errors;  report  test  progress  every  100  cylinders, with
     summary reports attached.

  ox <PRESS BREAK KEY>
  ???  ox test momt12827.t

     where  "test momt12020.r"  is a  sample of  the input format
     "test momtICCDD.O":

        momt    identifies request to set options

        ICCDD   are the IOM, Channel  and Device numbers given in
                Step 4.

        .r      is  the first  option, to  report current  CCC/HH
                location.

     Set the remaining options when prompted:

  *0(mmt12827) t6 enter options:  ox .e
  *0(mmt12827) t6 enter options:  ox .s
  *0(mmt12827) t6 enter options:  ox .i
  *0(mmt12827) t6 enter options:  ox .r
  *0(mmt12827) t6 enter options:  ox .go



























Formatting Disks With MTR      B-13                       SIB12.3


 9.  When the  .go option is entered  in Step 8, MTR  reports the
     current location being formatted  and displays the defective
     tracks  found.   It  then  asks  if  you  want  to  continue
     formatting:

  **0(mmt12827)
  format function current addr. = 004/00
  **0(mmt12827)
  format function current addr. = 004/00
  **0(mmt12827)
  ***** statistics from format of hda *****
  summary for msu0501 devices (27/28)
  no. of tracks with 1 defect skip  = 1
  no. of tracks with 2 defect skips = 0
  no. of tracks with 3 defect skips = 0
  no. of new defect skips generated = 0
       total defect skips processed = 1
   odd device defective tracks      = 0
  even device defective tracks      = 0
  physical device defective tracks  = 0
                              total = 0
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
  no tracks were marked defective.
  **0(mmt12827)
  do you want the test to continue?
  enter (y or n) -  ox y




























Formatting Disks With MTR      B-14                       SIB12.3


10.  After  every  100  cylinders  are  formatted,  MTR  displays
     defective  tracks  found.   For  example,  the final summary
     displayed just before formatting completes, looks like:

  **0(mmt12827)
  mtr6 has formatted tracks "000/00 thru 800/00"
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 odd device report (27) ---
  defective - error logging track info
  006/19,028/19,284/01,370/12
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 even device report (28) ---
  defective - error logging track info
  008/19,026/19,096/05,174/16,381/06,736/09,778/19
  **0(mmt12827)
  ***** statistics from format of hda *****
  summary for msu0501 devices (27/28)
  no. of tracks with 1 defect skip  = 33
  no. of tracks with 2 defect skips = 2
  no. of tracks with 3 defect skips = 0
  no. of new defect skips generated = 0
       total defect skips processed = 37
   odd device defective tracks      = 4
  even device defective tracks      = 7
  physical device defective tracks  = 0
                              total = 11
  **0(mmt12827)
  ***** hda format complete *****

























Formatting Disks With MTR      B-15                       SIB12.3


11.  After formatting is complete,  MTR begins testing the tracks
     on the formatted pack.   Error summaries are displayed after
     every 100 cylinders have been tested.

  start media test phase
  **0(mmt12827)
  mtr6 has tested tracks "000/00 thru 100/00"
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 odd device report (27) ---
  defective - error logging track info
  006/19,028/19,284/01,370/12,816/04,818/04,832/04
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 even device report (28) ---
  defective - error logging track info
  008/19,026/19,096/05,174/16,381/06,736/09,778/19
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 even device report (28) ---
  reclaimed - repaired data field
  042/15
  **0(mmt12827)
  ***** statistics from format of hda *****
  summary for msu0501 devices (27/28)
  no. of tracks with 1 defect skip  = 42
  no. of tracks with 2 defect skips = 2
  no. of tracks with 3 defect skips = 0
  no. of new defect skips generated = 1
      total defect skips processed  = 47
   odd device defective tracks      = 7
  even device defective tracks      = 7
  physical device defective tracks  = 0
                              total = 14





















Formatting Disks With MTR      B-16                       SIB12.3


12.  When  testing is  complete, termination  summary reports are
     displayed:

  **0(mmt12827)
  ***** normal termination summary reports *****
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 odd device report (27) ---
  defective - error logging track info
  006/19,028/19,284/01,370/12,816/04,818/04,832/04
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 odd device report (27) ---
  reclaimed - repaired data field
  764/09,830/04
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 even device report (28) ---
  defective - error logging track info
  008/19,026/19,096/05,174/16,381/06,736/09,778/19
  **0(mmt12827)
  ***** mtr6 - hda condition summary report *****
   --- msu0501 even device report (28) ---
  reclaimed - repaired data field
  042/15,762/09,818/08
  **0(mmt12827)
  ***** statistics from format of hda *****
  summary for msu0501 devices (27/28)
  no. of tracks with 1 defect skip  = 42
  no. of tracks with 2 defect skips = 2
  no. of tracks with 3 defect skips = 0
  no. of new defect skips generated = 5
       total defect skips processed = 51
   odd device defective tracks      = 7
  even device defective tracks      = 7
  physical device defective tracks  = 0
                              total = 14

13.  MTR then asks  if you want to select a  new test (answer "y"
     for yes)

  **0(mmt12827)
  want to select a new test?
  enter (y or n) -  ox y











Formatting Disks With MTR      B-17                       SIB12.3


14.  MTR then  displays information describing how  to select the
     next test:

  **0(mmt12827)
  mtr6 will go into waiting!
  select test (t1 thru t7)
  enter test no. thru standard option call (test momticcddtx) -
  **0(mmt12827)
  waiting

15.  To actually  select the next  test, press the  BREAK key and
     wait  for  the  MOLTS  prompt.   Then  select  test 7, which
     assigns  alternate  tracks  for  those  tracks  found  to be
     defective above.

     Test  7 assigns alternates  for the complete  head assembly,
     whereas test 3 (used in the procedure for formatting MSU0451
     disks) only assigns alternates  for a single logical device.
     Thus, test  3 would have to  be run twice (once  for the odd
     device and once for the even device) to assign alternates on
     an MSU0500 or MSU0501 disk.

  ox <PRESS BREAK KEY>
  ???  ox test momt12827t7

     where  "test momt12827t7"  is a  sample of  the input format
     "test momtICCDDtT":

        momt    identifies request to set options

        ICCDD   are the IOM, Channel  and Device numbers given in
                Step 4.

        tT      gives the number of the next test to run.

     Test 7 initialization displays the following information:

  **0(mmt12827) start tmt67g-mtr7, ttldat 820405, phy./log. id t//04

16.  Select  subtest 1  of test  7, to  assign alternates  to all
     defective tracks:

  **0(mmt12827)
  mtr7 is at your service
  for special physical device formatting -
  select the subtst
  a) subtst 1 - assign all alternate tracks
  b) subtst 2 - create & write logging tracks
  enter (1 thru 2) -  ox 1






Formatting Disks With MTR      B-18                       SIB12.3


17.  MTR then briefly describes the subtest, and asks if you want
     to continue (answer "y" for yes):

  **0(mmt12827)
  ***** begin subtst 1 *****
  assign alternate tracks on the physical device the subtst will
  search "all" standard tracks on the hda for defective (no alt.
  assigned).  if any are found, it will assign the 1st available
  alternate to them.
  **0(mmt12827)
  do you want subtst (1) to continue?
  enter (y or n) -  ox y

18.  MTR then asks if you are restarting (answer "n" for no):

  **0(mmt12827)
  is this a restart?
  enter (y or n) -  ox n

19.  MTR then  begins displaying summary reports  after every 100
     cylinders are checked for alternate assignments:

  **0(mmt12827)
  mtr7 has processed tracks "000/00 thru 100/00"
  **0(mmt12827)
  ***** mtr7 - subtst 1 summary report *****
   --- msu0501 odd device report (27) ---
  defective - alternate track assigned
   def         alt         def         alt
  cyl/hd      cyl/hd      cyl/hd      cyl/hd
  006/19      840/00      028/19      840/03
  **0(mmt12827)
  ***** mtr7 - subtst 1 summary report *****
   --- msu0501 even device report (28) ---
  defective - alternate track assigned
   def         alt         def         alt
  cyl/hd      cyl/hd      cyl/hd      cyl/hd
  008/19      840/01      026/19      840/02
  096/05      840/04
















Formatting Disks With MTR      B-19                       SIB12.3


20.  After  alternate assignments  are complete,  MTR displays  a
     summary report describing all alternates on the pack:

  **0(mmt12827)
  ***** normal termination summary reports *****
  **0(mmt12827)
  ***** mtr7 - subtst 1 summary report *****
   --- msu0501 odd device report (27) ---
  defective - alternate track assigned
   def         alt         def         alt
  cyl/hd      cyl/hd      cyl/hd      cyl/hd
  006/19      840/00      028/19      840/03
  284/01      840/06      370/12      840/07
  816/04      840/11      818/04      840/12
  832/04      840/13
  **0(mmt12827)
  ***** mtr7 - subtst 1 summary report *****
   --- msu0501 even device report (28) ---
  defective - alternate track assigned
   def         alt         def         alt
  cyl/hd      cyl/hd      cyl/hd      cyl/hd
  008/19      840/01      026/19      840/02
  096/05      840/04      174/16      840/05
  381/06      840/08      736/09      840/09
  778/19      840/10

21.  MTR then asks  if you want to select a  new test (answer "n"
     for no, and "quit" to exit TOLTS).

  **0(mmt12827)
  want to select a new test?
  enter (y or n) -  ox n
  **0(mmt12827) normal term 1
  ***molts executive version 820701 off 820806 at 00.27 p.t. 5185916

  ***enter "polts", "molts", "colts", "isolts", "quit", or "msg"
  ???  ox quit

  ***tolts executive version 810301 off 820806 at 00.165
  r 00:16 5188.584 1038















                               B-20                       SIB12.3









                             CONTENTS


                                                         Page

Section 1     Introduction  . . . . . . . . . . . . . .  1-1
                 Site Support . . . . . . . . . . . . .  1-1

Section 2     Description of Package  . . . . . . . . .  2-1
                 Library Naming Conventions . . . . . .  2-1
                 Contents of MR12.3 Package . . . . . .  2-2

Section 3     FCO and Firmware Status . . . . . . . . .  3-1
                 Firmware . . . . . . . . . . . . . . .  3-1
                 Field Change Order List  . . . . . . .  3-2

Section 4     Instructions for Sites Updating to MR12.3
               from MR12.2  . . . . . . . . . . . . . .  4-1
                 Step 1:  Pre-Installation Preparation   4-2
                 Step 2:  Installation to BCE (early)
                  Level . . . . . . . . . . . . . . . .  4-2
                 Step 3:  Changes to Config Deck  . . .  4-2
                 Step 4:  Installation to BCE (boot)
                  Level . . . . . . . . . . . . . . . .  4-3
                 Step 5:  Ring-1 Environment  . . . . .  4-3
                 Step 6:  TTF Conversion  . . . . . . .  4-4
                 Step 7:  FNP Core Images and CMF
                  Conversion  . . . . . . . . . . . . .  4-4
                 Step 8:  ACLs and Ring Brackets  . . .  4-6
                 Step 9:  System Cleanup  . . . . . . .  4-7

Section 5     Instructions for Sites Installing for
               First Time . . . . . . . . . . . . . . .  5-1
                 Step 1:  Preparation . . . . . . . . .  5-1
                 Step 2:  Logical Volume Assignments  .  5-2
                 Step 3:  RPV Initialization  . . . . .  5-4
                 Step 4:  Configuration . . . . . . . .  5-6
                 Step 5:  Initializing Root Volumes . .  5-7
                 Step 6:  Additional Configuration
                  Parameters  . . . . . . . . . . . . .  5-8
                 Step 7:  Reload of Executable
                  Libraries . . . . . . . . . . . . . .  5-8
                 Step 8:  Setting and Checking Access .  5-10
                 Step 9:  Setting Volume Quota  . . . .  5-11
                 Step 10:  Reload of Remaining Release
                  Tapes . . . . . . . . . . . . . . . .  5-12


                               iii                        SIB12.3


                         CONTENTS (cont)


                                                         Page

                 Step 11:  Running acct_start_up.ec . .  5-13
                 Step 12:  Multics Communications
                  System  . . . . . . . . . . . . . . .  5-13
                 Step 13:  Complete Accounting Startup   5-15
                 Step 14:  Check Gate ACLs  . . . . . .  5-16
                 Step 15:  Save Checkpoint  . . . . . .  5-18
                 Step 16:  Tailor System and Register
                  Projects  . . . . . . . . . . . . . .  5-18
                 Step 17:  Setup Volume Backup/Reloader  5-18
                 Step 18:  Setup Directory Quota  . . .  5-19

Appendix A    Module Changes for MR12.3 . . . . . . . .  A-1
                 New Info Segments for MR12.3 . . . . .  A-2
                 New Segments for MR12.3  . . . . . . .  A-3
                 New or Modified Include Files for
                  MR12.3  . . . . . . . . . . . . . . .  A-4
                 Deleted Segments for MR12.3  . . . . .  A-5
                 Modified Segments for MR12.3 . . . . .  A-6

Appendix B    Formatting Disks with MTR . . . . . . . .  B-1
                 Formatting MSU0451 Disk Packs  . . . .  B-1
                 Formatting MSU0500/MSU0501 Disk Packs   B-10




























                                iv                        SIB12.3
