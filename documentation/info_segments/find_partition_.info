03/31/83  find_partition_


Entry points in find_partition_:
   (List is generated by the help command)


:Entry: find_partition_: 02/01/83  find_partition_


Function: is used to ascertain information about a disk partition
located on some mounted storage system disk.  It reads the label and
locates the partition, returning information about its size and
location, as well as returning the PVID of the volume, for use in a
later call to one of the hardcore entries for partition reading and
writing.  Use of this subroutine requires access to phcs_.


Syntax:
dcl find_partition_ entry (char (*), char (*), bit (36) aligned,
     fixed bin (35), fixed bin (35), fixed bin (35));
call find_partition_ (pvname, partition_name, pvid, first_record,
     partition_size, code);


Arguments:
pvname
   is the name of the physical volume on which the partition is
   located.  (Input).  The volume must be a presently mounted storage
   system disk volume.
partition_name
   is the name of the disk partition to be located.  (Input).  It must
   be four characters long or shorter.
pvid
   is the physical volume ID of the volume the partition is located on.
   (Output).  This is returned as a convenience, for use in a later
   call to one of the hardcore entries for partition I/O.
first_record
   is the number (zero origin, from the beginning of the volume) of the
   first record in the partition.  (Output)


partition_size
   is the number of words in the partition.  (Output)
code
   is a nonstandard status code.  (Output).  It can be one of the
   following:
   0
      indicates that the partition exists and that the returned
      parameters are all correct.
   error_table_$pvid_not_found
      indicates that the specified physical volume is not presently
      mounted.
   error_table_$entry_not_found
      indicates that the specified partition could not be found.
   an integer between 1 and 10
      indicates that a physical disk error occurred while trying to
      read the label.  Error messages for physical disk errors are
      declared in the include file fsdisk_errors.incl.pl1, in the array
      fsdisk_error_message.
