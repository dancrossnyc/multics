8/7/86:  changes to forum

7/28/86:  Version 2.14

Minor bug fixes and enhancements to version 2.13 have been made.  The
-brief and -long control arguments have been added to add_meeting and
remove_meeting.  The -current_meeting control argument has been added
to remove_meeting.  The -count control argument is now accepted by the
next_meeting active request.

The beforeref (bref) transaction specifier has been added.  It selects
all transactions in the current chain before the current transaction.


2/8/86:  Performance improvement

Several forum_ primitives have been modified to improve performance.


2/2/86:  Expunge request fixes

An error in the forum_$expunge primitive which caused it to incorrectly
mark non-existent (not-yet-entered) transactions as seen has been
fixed.


12/22/85:  Bug fixes to version 2.13

This installation fixes all reported bugs introduced in version 2.13.
More slight performance improvements have been made.  The forum_info
structure passed to the forum_$forum_info now accepts
forum_info_version_2 as the version parameter.  The version 2 structure
is identical to version 1, except that the removal_count element is
always returned as 0, saving the extensive time needed to calculate
this value.  The number of removed attendees may be obtained from the
forum_$list_users call.  A version number has been added to the
forum_meeting_list structure introduced in forum 2.13.

The -no_header control argument has been added to the write request.
A bug in formatted writes which caused some pages to be one line too
long has been fixed.


12/4/85:  Version 2.13

This version of forum has been modified to handle meetings with many
expunged transactions without consuming excessive amounts of CPU time.
Two new entries have been added to the forum_ gate, and the transaction
specifier parser has been extensively reworked.  The new entrypoints
are forum_$next_transaction and forum_$previous_transaction, and they
return the index of the next (or previous) unexpunged transaction in
the meeting.

The -subject control argument to the mail request has been renamed
-new_subject because it had been overshadowed by the -subject
transaction specifier control argument.  The -count control argument
has been added to the next_meeting request.  The dot ('.') request has
been changed to notify the user if the current meeting is adjourned.
The -update control argument to the add_meeting request has been fixed
to correctly shorten link pathnames to version 2 meetings.  The apply
request has been fixed so that it will no longer turn unprocessed
chairman messages into unprocessed transactions.


The changed meeting list created by the check_meetings request has been
made available to external programs by the addition of the
forum_data_$meeting_list variable, which points to the structure
defined in forum_meeting_list.incl.pl1.  The list_meetings request
will always calculate 'new' the same as appears in the meeting banner.
It has also been changed to eliminate duplicates BEFORE call the
forum_$forum_info entrypoint.

The forum_$set_switch and forum_$set_switch_idx entries have been
changed to validate their arguments in an order which leads to more
understandable error messages.  They have also been changed to allow
a non-participant to set the storage system safety switch on a meeting.
As a consequence, the Multics extended object software will no longer
be able to access the per-attendee switches such as the notify switch.


4/4/85:  Bug fixes to version 2.12

Forum now limits the size of its user-ring storage.  This should
prevent most process directory RQO's caused by forum when reading large
meetings.  A bug which caused transactions to be printed without blank
lines between them has been fixed.  forum_create will now return the
correct error code when given an invalid meeting name.  In a meeting
where no transactions have been seen, the "current" and "next"
transaction specifiers will once again both refer to the first
transaction.

The "last_seen" ("ls") sort type has been added to list_users.  The
-before control argument has been added to list_meetings.


3/31/85:  Version 2.12

Two new requests, rechain and unchain, have been added to allow meeting
chairman to alter transaction chaining information.  This allows simple
mistakes like replying to the wrong transaction to be fixed without
deleting and re-entering the errant transaction.  The calculation of
the "highest seen" transaction has been improved and should take
less time for certain pathological cases.

The -trailer_format control argument has been added to the forum
command and to the print and write requests.  The -format option
of the write request will now correctly paginate transactions
containing form-feeds and/or multi-line subjects.  The list request
will now denote deleted transactions with an exclamation point.
The trailer for the unprocessed transaction will show the transaction
being replied to as the pref.


The -no_notify control argument has been added to the list_users
request and the forum_list_users command.  The -eligible option
to the list_users request will now work correctly on certain
combinations of meeting access on version 1 meetings.  The
announce_meeting request has been changed to query the user;
a -force has been added to override this behavior.

The v2_* synonyms for forum commands have been removed.  Forum has been
changed to use the "goto" request to enter the meeting specified on the
forum command line so that abbreviations for "goto" will be expanded.
The new date_time facility is used everywhere except for the list
request.  The "dont_compress" option to format_document_ is no longer
being used by forum filling.


Chairman access to the meeting will now allow you to set the meeting
ACL.  The replace_acl primitive has been changed to ensure that the
*.*.* ACL is not removed.  The detection of deleting an open meeting
has been improved.  The expunge request will now mark expunged
transactions as seen.  This will make meeting storage more efficient
and should shorten the time needed to calculate specifiers such
as first_unseen.  A writearound for an obscure bug causing faults when
reading large numbers of transactions has been added.   The error
message produced by an RQO during an expunge has been improved.


11/10/84: The -update option to the add_meeting request will now
update links even if the version 1 meeting still exists.  A bug
introduced in version 2.11 convert_forum by the auditor has been
fixed.


08/05/84:  Version 2.11: More bug fixes and minor improvements.

Changed the mail request to not require the -to control argument
because of an incompatible change in the behavior of addresses like
"-to -log".  Added a new header to forum mail which gives the date_time
that the transaction was entered.  Fixed a bug in the mail request's
cleanup handler.  Made add_meeting always get the primary name.  Stopped
the write request from prepending unnecessary form feeds.

   Added the -output_line_length and -input_line_length control arguments
to the forum command for users who like different line lengths for each
case. The -line_length control argument sets both defaults.  Added the
-line_length control argument to the talk, reply, list, and print
requests.


  Added the -chairman control argument to the add_participant,
add_project, and make_public requests and the associated commands.
This gives chairman access for version 2 meetings.  Changed list_users
to allow the specification of deleted transactions with -seen.  Fixed a
bug which caused list_meetings -inhibit_error to be inconsistent in its
determination of when to print error messages.  Changed list_meetings
-changes and check_meetings to ignore adjourned meetings.  Changed the
internal subroutine which locates meetings to report correct error
messages when the last path in the forum search list is a segment
rather than a directory.  Changed add_meeting to not lose with
long_meeting_name.control.forum.  Made forum_admin work with version 1
meetings.  Set the option telling format document to not wrap indented
lines.


04/22/84: Version 2.10:  Miscellaneous fixes.

forum_add_meeting was fixed so that when invoked on a transactions
which is not a valid meeting announcement, it will report so and return
to command level (instead of attempting to parse the non-announcement
and losing).

A bug has been fixed whereby entering a transaction in a different
meeting from the one being attended could cause the transaction to be
mis-chained.

forum_mailer_ has been modified for the EXL mail system calling
sequence.

***NOTE YOU MUST NOW USE THE EXL MAIL SYSTEM TO WIN***.


The add_participant, add_project, remove_participant, remove_project,
make_public, and unmake_public commands have been modified to operate
on V2 forums.  This is to allow the installation of V2 forum in >unb
without depending upon the installation of the correct version of the
xobj software which was previously depended upon to provide this
functionality.


04/11/84: Version 2.9:  Ring 2 fixes.

Two bugs in forum_conversion_ were fixed.  The first bug resulted in
some of the per meetings flags not getting correctly copied to the new
meeting.  The second bug resulted in the Attendee B-tree not being
properly balanced (A condition which is correctable via an "expunge" of
the meeting).

Two bugs were fixed in forum_space_mgr_.  The first bug would cause an
ungraceful exit of ring 2 forum when a meetings Transactions segment
filled up.  The fix will cause a proper error code to be returned.  A
future enhancement will allow multiple Transactions segments, but not
yet...  The second bug was in the computation of the "seen" bit maps.


03/15/84: Version 2.8:  Minor bugfixes.

A bug in calculating the length of a v1 subject introduced in version
2.7 has been fixed.  This bug was responsible for the extra blank line
between the subject and text of a transaction.

Forum exec_coms are now found via the "exec_com" search path.
Previously no search path was used (this was an error) and a forum exec
com had to exist either in your working directory, or be invoked via
explicit pathname.


03/14/84: Version 2.7:  Many user ring changes and bug fixes.

Person_ids will no longer be accepted as transaction specifiers.  The
-from control argument must be used.  This resolves problems with
confusing error messages.  The subject request will now work as an
active request, and will not fault when given an argument greater than
512 characters long.  The forum_list_users command will now correctly
process the -seen control argument.  Problems in formatting output for
meetings with more than 10000 transactions have been fixed.  The apply,
ted, and qedx requests will no longer create transactions if there is
no current meeting.   Several requests that take numeric arguments
will now report a correct error message when given non-numeric
arguments where numbers are expected.  The rref request will report
the correct error message if there are no more transactions in the
given chain.  Reply -meeting will now work again.


The forum_create command will not remove chairman access if the user
specifies himself as a participant.  Overlength subjects will now be
formatted by the print and write requests.  add_meeting will now
work on meeting announcements for meetings with embedded whitespace in
their names.  It will also no longer look at (or create) [hd]>meetings
if it doesn't have to.  If it does create [hd]>meetings, it will inform
the user of that fact.

The switch_on and switch_off requests will no give a usage message
where appropriate.  The add_meeting request will now replace null
links and update link paths where appropriate.  The announce_meeting
request will now always get the primary name in the subject instead
of being subject to the whims of the pathname associative memory.


The write request has been changed to require a transaction specifier.
With no arguments, it will issue a usage message.  The -reply_to
control argument has been added to the mail request.  The -cmtg control
argument has been added to the add_meeting request.  The
-enter_description (-eds) control argument has been added to the
announce_meeting request.  Added the announcement_info (ai) request to
extract information from meeting announcements.  The aref, fref, lref,
pref, and rref requests now accept 'unproc' as an argument.  The
forum_check_meetings (fckm) command has been added.


8/12/83: Added the get_uid_file entrypoint to forum_ for use by the
new mail system software.  Calling sequence is identical with
hcs_$get_uid_file.  Added the -force and -no_force control arguments
to add_meeting to add the link even if the caller is not eligible.
Changed the definition of new to mean "all transactions entered
by participants other than yourself that were entered since the last
transaction you have seen that was entered by another participant."


8/8/83: Added the -long_subject control argument to the list request.
This argument prevents truncation of transaction subjects.  Added the
-include_deleted, -only_deleted, and -only_non_deleted control
arguments to list_users.  These only work on version 2 meetings.  Added
the -auto_write and -no_auto_write control arguments to the qedx, talk,
ted, and reply requests and the forum command to control whether the
"w" request is necessary in the editor.


7/25/83: Fixed a locking bug in the salvager (expunge request).  Changed
forum_open_mgr_ to allow you to close the meeting if you have been denied
access to the meeting while you had it open.  Made the announce_meeting
request print a message saying that the announcement was successfully
entered.  Change add_meeting to not abort the request line if it was
unable to add names to a link.  Fixed reply -meeting to not assume that
the meeting is version 2.


6/30/83: Made the specifier requests which take arguments be able to take
other specifiers as arguments.  For example, "aref last" now works.
Added the -update (-ud) control argument to add_meeting to aid in converting
meeting links from version 1 meetings to links to version 2 meetings if
the meeting has been converted.  Added the -all control argument to the
next_meeting request to list all meetings that were selected by the last
check_meetings request.

Added the -names_only, -participating, -no_participating, -after,
-before, -ascending, and -descending control arguments to list_users.
Fixed meeting eligibility messages.  They didn't work at all for
version 1 meetings and were usually incorrect for version 2 meetings.


Version 2 Forum meetings now support the safety switch. This may be
turned on by the chairman with either the switch_on forum request or
the switch_on command.


6/8/83:  Added the -check control argument to the remove_meeting
request. This lists the links that remove_meeting -cleanup would delete.
Made the add_meeting request make the user a participant in the meeting
along with creating the link.  Made the current_meeting request only
return the meeting suffix if the -absp control argument is given.


6/6/83:  Installed updated copy of forum_trans_specs_ which was omitted
in yesterday's installation. add_meeting should work again.  Changed
add_meeting to link to the actual meeting when the announcement gives a
pathname which is a link. Added the -list control argument to the
next_meeting request.

Added -return_on_error (-roe) and -no_return_on_error (-nroe) to the
goto request to control what happens when the new meeting does not
exist.  Made the '.' request say whether or not abbrev expansion is
enabled.


6/5/83:  Added the add_meeting (am), remove_meeting (rm), and
announce_meeting (anm) requests, and the forum_add_meeting (fam) and
forum_remove_meeting (frm) commands. These are used to manage the user's
private meetings directory by adding and removing links to meetings.
The announce_meeting request creates a transaction containing
information about the current meeting and enters it in another meeting.
These announcements can be used by the add_meeting request to add a
meeting to the search list.  The forum_create command was changed to
create an announcement upon request.

The suffix_forum_ module was moved into bound_v2_forum_. A minor bug
in the check_meetings request which caused it to print a warning twice
has been fixed.


6/2/83:  Added the check_meetings (ckm) and next_meeting (nm) requests
which may be used to step through changed meetings. Changed the default
behavior of the write request to be the same as the print request:
write the unprocessed transaction if there is one, otherwise the
current one.


4/13/83: Changed the rref transaction specifier to not include the
current transaction.  Fixed the chairman request table to show the talk
request in the output of the list_help and ?  requests.  Fixed an
off-by-one error in computing the maximum subject length in the list
request.  Fixed invocation of ted through terminating input with \f to
ensure that the initial request passed to ted ends with a new line.


3/26/83: Fixed the RQO handler in forum_trans_mgr_ to handle the case
where the RQO is taken on the control segment.  Made transaction
entering a little more atomic.  Fixed a typo in the usage message for
the add_project request.
 

3/18/83: Added the -output_file, -inhibit_error and -no_inhibit_error
control arguments to the list request.  The -(no_)inhibit_error control
argument is only valid when list is invoked as an active function, and
causes that request to not complain if no transactions are selected.
Added the synonyms -ud and -nud to the -update and -no_update control
arguments, respectively.  Added the -fill and -no_fill control
arguments to the apply request.  Upgraded the apply request to work on
existing transactions.


The list_meetings request will now correctly eliminate duplicate
meetings even if you are not eligible.  If -no_inhibit_error is
specified, null links to meetings will be diagnosed as errors.
Columnation problems when specifying any two of -verbose, -absp, and
-count have been fixed.  Specifiying both the -separator and -formatted
control arguments to the write request will now always be diagnosed as
an error.  A typo in an error message in the switch_on/switch_off
requests has been fixed.


2/5/83: Incompatibly changed the ted request to require the write
request to be given in order to save editing changes. The quit
request will ask if the user really wants to quit when there
are modified buffers. The list_users active function was changed
to reject the -eligible control argument.


1/29/83: Replaced forum_editor_ (dqed) by calls to qedx_. This
is an incompatible change.  From now on, the write request must
be given in order to save editing changes.  The quit request
will ask if the user really wants to quit when there are modified
buffers. Type "help qedx" from inside forum for more information.

The -fill and -no_fill control arguments have been added to the qedx
and ted requests to control whether or not the transaction will be
refilled upon exit from the editor.


1/19/83 Version 2 forum:  The entire inner-ring portion of forum has
been rewritten, and the format of meetings has been changed
incompatibly. Version 2 meetings are directories with a suffix of
".forum".  A new command, convert_forum, has been provided to convert
version 1 meetings to version 2 meetings.


Meeting access:
Access to forum meetings is controlled by extended acls. There
are three modes: read, write, and chairman. As of now, these ACL's are
only set by the forum_create and convert_forum commands. They may be
listed by the list_users -eligible request. The forum_add_participant,
forum_add_project, forum_remove_participant, forum_remove_project,
forum_make_public, forum_unmake_public, and associated requests have
been removed. In the near future, there should be standard Multics
set_extended_acl, list_extended_acl, and delete_extended_acl commands
which may be used to manipulate the access to meetings.


New seen switch:
Transactions may now be marked as either seen or unseen. A transaction
is marked as seen by the print and write requests, and the seen switch
may be explicitly manipulated with the switch_on and switch_off
requests. Transactions are also marked as seen by their author when
they are entered. Ten new transaction specifiers and requests have been
added to utilize the seen switch. They are: seen, first_seen,
last_seen, next_seen, previous_seen, unseen, first_unseen, last_unseen,
next_unseen, and previous_unseen.


Bug fixes and improvements:
Several improvements to the forum subsystem have been made. The
-seen and -unseen control arguments to the list_users request now
take a transaction specifier instead of only a transaction number.
The subject request will now concatenate its arguments instead of
requiring the new subject to be quoted. The qedx request and
entering \f when typing transactions will now use the standard
qedx editor instead of a bound-in editor.


12/31/82: Fixed a bug in forum_create which caused it to not add the
short name to the meeting.  Corrected forum_list_meetings to report the
correct pathname in certain error messages.  Changed the print request
to put " (more)" on the transaction footer if there are more
transactions in the same chain.  When going to a meeting for the first
time, the first transaction will now be considered to be new.  Added
the -format (-fmt), -no_format (-nfmt), and -page_length (-pl) control
arguments to the write request.  Capitalized the word "Subject" in the
output of the dot request.


12/16/82:  Fixed a bug in management of the user-ring transaction
cache, and a bug causing faults in the list request on terminals with
line_length set to less than 72.


12/11/82:  Version 1.10:  This version contains bug fixes and new
features including inprovements to transaction specification,
user deletion of their own transactions, and the addition of several 
new requests.


The -from User_id control argument has been added to transaction
selection.  It should be used instead of specifying the User_id by
itself.  Selection by date is now available with the addition of the
-after (-af), -after_time (-aft), -before (-be), -before_time (-bet),
-between (-bt), -between_time (-btt), and -date (-dt) control
arguments.  A -by_chain control argument has been added to the list,
print, and write requests to sort the selected transactions by
transaction chains.  A new transaction specifier, "highest" or
"last_seen" has been added.  It refers to the highest-numbered
transaction that has been printed or written.


The exec_com request has been added.  Forum searches the "exec_com"
search list for segments with the "fmec" suffix.  Forum will look for
and execute a start_up.fmec exec_com.  The -no_start_up control
argument has been added to the forum command to disable this.  The
access controlling commands have been made available as requests.
These are add_participant (apt), add_project (apj), remove_participant
(rpt), remove_project (rpj), make_public (mp), and unmake_public (ump).
Any user with modify permission on the containing directory may now
delete a meeting.  The delete_forum entry has been moved from
forum_chairman_ to forum_.  The forum_chairman_ entries forum_(add
delete)_name have been replaced with chname_forum and chname_forum_idx.


All participants are now able to delete (and retrieve) transactions
entered by themselves, except that a participant may not retrieve a
transaction that the chairman has deleted. The -include_deleted (-idl),
-only_deleted (-odl), and -only_non_deleted (-ondl) control arguments
have been added to the list, print, and write requests.  

Meetings may now be adjourned by the chairman. An "adjourned" switch
may be manipulated by the switch_on/switch_off requests and by the
forum_admin command. When a meeting is adjourned, only the chairman may
attend. The control arguments -adjourned (-adj) and -no_adjourned
(-nadj) have been added to list_meetings.


The meeting_name argument to flsu is no longer positional.  The -sort
and -project control arguments were added to list_users.  The output of
list_users may now be sorted by time last attended as well as by name.
The output of list_users -eligible is not sorted alphabetically.  The
-new and -next control arguments have been added to the reset request.
The list request now takes the -brief (-bf)/-long (-lg) control
arguments, the brief form omits the date and the project of the author.
The print request will now issue a "reset_more" control order between
transactions.


The standard ssu_ request table is now used to make
forum_request_tables_ shorter.  The initial request table has been
removed.  The request table in effect when there is no current meeting
is the same as the request table when the user is attending a meeting
he does not chair.  This is a substantial performance improvement.

Error messages involving invalid regular expressions in transaction
specifiers have been improved.  A bug in the specifier parser which
caused it to loop has been fixed.  Forum_list_meetings
-absolute_pathname has been fixed to print the real path name, not the
pathname of the link used to find the meeting.  A bug which prevented
the -line_length control argument to the forum command from being
effective has been fixed.  The error message given when a requested
transaction has been expunged has been changed to say "expunged"
instead of "garbage-collected."


8/21/82:  Forum will now not allow anonymous users to chair meetings and
will mark transactions entered by anonymous users by prepending an asterisk
("*") to the user_id given in the header.  When a meeting is created or
renamed, forum will make sure that the new names are valid entry names,
i.e. they do not contain things like adjacent periods.

    flsm has been fixed to report error if a meeting explicitly
mentioned on the command/request line was not found. The write request will
quote the name of the output file in the vfile_ attach description in
case the name contains a space.


7/28/82:  Bugs involving incorrect access to the notifications database
have been fixed.  Users running at AIM levels other than system_low
will no longer crawlout when accessing this database.  Requests which
enter transactions will now differentiate errors which occurred while
entering the transaction from errors which occurred while sending
notifications and correctly report that the transaction was entered in
the former case.

7/20/82:  A bug in meeting selection in flsm has been fixed. A bug in 
management of the user-ring transaction cache which could occasionally
cause looping has been fixed.


7/6/82: The -brief control argument has been added to f/lsu to suppress
the "No participants were selected." error message.  The default search
path has been changed so that >udd>[user project]>[user name]>meetings
comes before [forum_dir].  The error which caused the text of a transaction
being entered with -no_fill to occasionally be discarded has been fixed.
A bug in flsm which caused it to print the "p" flag on meetings that the
user had not attended has been fixed.  A typo in a dlpt/rtpt error message
has been corrected.


6/28/82 Version 1.9: A bug in forum_admin access-setting has been fixed.
Bugs in flsm/flsu standalone subsystem creation have been fixed.
The forum_get_search_path_ routine has been deleted, forum will no
longer attempt to use the continuum search path if it is different from
the forum search path. The obsolete set_notify_(on off) and
set_participate_(on off) requests have been removed. The unused
listening and talking switches have been removed.

Garbage collection has been added. Three new chairman requests have
been added. delete_participant logically removes participants from a
meeting, retrieve_participant restores them, and expunge physically
removes deleted transactions and participants from a meeting.


The directory >udd>[user project]>[user name]>meetings has been added
to the default "forum" search path.  The "goto" request will now be
able to find meetings even if the user lacks "s" access on the
containing directory.  The list request has been changed to work as an
active request which returns a list of transaction numbers.
forum_admin change_chairman will now tell you who the old chairman was.
The frpt command will now turn off a user's "participating" switch.
All transaction filling is now done with format_document_. The bug
which prevented transactions entered with -if from being filled
has been fixed.


6/04/82: The control arguments -no_changes, -no_notify, and
-no_participating have been added to the forum_list_meetings command
and the list_meetings request.  The following bugs introduced in
version 1.8 have been fixed:  swf mtg_emsg will now work correctly,
flsu will give the correct error message if no meeting_name is
specified, and the chairman_message transaction specifier will be
recognized.


05/21/82: Version 1.8: There have been several changes in the usage of
the chairman messages. Now they will be printed on meeting entry the
first time after they have changed and the first time a talk or
reply is done in a meeting. A new transaction specifier,
"chairman_message" ("cmsg"), has been added. It may be used with the
print, write, and delete requests. The -delete control argument to the
set_message command has been removed.

The forum_create command will now ask if the chairman wants to set the
chairman message. Projects and participants may now be added with the
-read_only argument in the forum_create dialogue.


Forum can now optionally print messages describing meeting eligibility
on meeting entry and a message warning users that access to the meeting
has changed since the last time they attended. Printing of these messages
can be manipulated for all meetings on a particular site by using the
new switch_on (swn)/switch_off (swf) keyword of the forum_admin command
to set the "print_eligibility_messages (pemsg)",
"chairman_set_eligibility_msg (cm_set_emsg)", and
"meeting_eligibility_messages (mtg_emsg)" keywords. Chairman can manipulate
eligibility messages for a single meeting by setting the "mtg_emsg" switch
provided it doesn't conflict with the site policy.


The set_notify_on, set_notify_off, set_participate_on, and
set_participate_off requests have been replaced by the new switch_on and
switch_off requests. They will remain functional, but will be
undocumented.


05/10/82 No new version: Recompiled forum_list_meetings.pl1 and
forum_mgr_.pl1 after fixing a bug in forum_info.incl.pl1. Added
forum_mgr_tv_ to bound_forum_mgr_ to avoid installation windows. Fixed
several places which referenced forum_ instead of forum_chairman_.


05/06/82 Version 1.7: Several bugs were fixed.  The input requests will
no longer tell users to type "enter" if both -rql and -input_file were
used.  Notifications will be sent even if the user is not accepting
messages.  The forum_admin command will now force write access on the
control segment.

Forum now supports read-only participation in meetings. The -read_only
control argument has been added to the forum_add_participant,
forum_add_project and forum_make_public commands. The forum_list_meetings
and forum_list_users commands/requests accept the -read_only and
-no_read_only control arguments to select/exclude read only
participants.


Forum will no longer print a prompt after a null input line. The forum_priv_
gate has been renamed forum_admin_. The short names "f", "c", and "l" have
been added to the first, current, and last requests respectively.

Forum_trans_specs_ will reject person_ids containing '*' or '.'. The control
argument parsing in forum_list_users has been improved.

The forum_remove_participant command has been changed to not allow the chairman
to delete his access.


04/03/82 Version 1.6: The dot request has been changed to give the name
of the meeting the unprocessed transaction will be entered in if it is
different then the current meeting.  All commands in forum_create.pl1
have been changed to call meetings "meetings".  They were forgotten in
version 1.5.  A bug which caused transactions to get entered in the
wrong meetings has been fixed.  Many declarations were cleaned up.


03/29/82 Version 1.5: Forum has been changed to call meetings "meetings"
once again. The forum_list command has been renamed
"forum_list_meetings (flsm)". The forum_list request has been renamed
"list_meetings (lsm)". The forum command and all requests that took the
"-forum" control argument now take "-meeting (-mtg)". The
current_meeting (cmtg) request has returned in place of "current_forum".

Notifications have been changed to use a global database. This will make
use of the fant/frnt commands very inexpensive.

If a user has no "forum" search path, or if it is the default search
path, forum will use the "continuum" search path if it exists and is 
different from the default. A warning message will be printed.


The forum_admin command and the forum_priv_ gate have been added to 
permit the manipulation of meetings by priviliged persons other than
the chairman.

A bug causing faults while trying to retrieve transactions which were not
deleted has been fixed. A bug in the request table which prevented
list_users from being called as an active request has been fixed.

An rqo handler has been added to ring-3 forum.  The forum_delete
command will now use the "forum" search path, as is documented.  A typo
in an flsu error message has been corrected.


03/20/82 Version 1.4: A bug in the -brief argument to the write request
has been fixed. A bug causing faults in the fant/frnt cleanup handler
has been fixed. A size condition handler has been added to list_users
so it will not fault on broken forums like 'eve' on System M. This
will be removed when garbage collection is added.

The -quit argument to the forum command will now quit unconditionally,
even if the initial request line was aborted.

The notification scheme has been redone using lock_id's instead of 
event channels. This will fix problems with emacs-forum-mode.


03/16/82 Version 1.3: The bug which caused forum to not print the last
character of the forum name when printing transactions has been fixed.


03/14/82 Version 1.2: Several bugs in the set_message request have
been fixed. A bug which caused forum to incorrectly tell users that
they were the chairman has been fixed. The -chairman argument to the
forum_list command/request will work even if a person_id is not given.
The eligible flag will once again be printed if -all is used.

The output produced by the -eligible control argument to the
forum_list_users command/request has been made more concise,
clearer, and neater.


03/01/82 Version 1.1: Forum has been updated to reflect changes in
the subsystem utilities, ssu_. The ssu_-supplied requests answer, if,
ready, ready_on, ready_off, subsystem_name, and subsystem_version
have been added.

The notifications mechanism has been changed to improve efficiency.  In
order to receive notifications of new transactions, the new command
forum_accept_notifications (fant) must be invoked in the process in
addition to having the notify flag set.  There is also a
forum_refuse_notifications (frnt) command.

The set_message request has been added to allow chairman to set a
message which will be printed when the forum is entered and when
transactions are entered.


Input filling has been turned on by default.  The -totals (-tt) and
-eligible (-elig) control arguments have been added to the list_users
request and the forum_list_users command.  The -brief, -long,
-separator (-sep) and -no_separator (-nosep) control arguments have
been added to the write request.

Several bugs involving use of the ":" in specifiers have been fixed.
Several bugs in the output formatting of forum_list have been fixed.
This command will no longer initiate the proceedings of the forum,
resulting in improved performance.  forum_create has been changed to do
more error-checking and to use the explanation feature of
command_query_.


The -inhibit_error argument to the forum_list command/request is now
the default.  The talk and reply requests have been modified to make
-rql the default if -input_file is specified.

The undocumented behavior of replying to a transaction by entering its
transaction index as a response to the "Subject: " prompt of the talk
request has been removed.


01/24/82 Version 1.0: Continuum has been renamed to be forum.  All
commands have been renamed: con_list_meetings is now forum_list
(fls), con_list_users is now forum_list_users (flsu), con_meeting_dir
is now forum_dir (fd), create_con_meeting is now forum_create,
delete_con_meeting is now forum_delete, and the access commands have
had "con" changed to "forum" in the long names and "c" changed to "f"
in the short names (con_make_public (cmp) -> forum_make_public (fmp).
The "forum" search path is now used to locate forums.


Several requests have been renamed: list_meetings is now forum_list
(fls), meeting_dir is now forum_dir (fd), and current_meeting has been
changed to current_forum (cf).  The short name "r" has been removed
from the "reset" request and the name "rs" has been added.  All
occurrences of the control argument "-meeting" have been changed to
"-forum".

Several control arguments have been added to the forum_list
command/request.  The -chairman {userid} (-cm) control argument will
select only those forums which are chaired by a specific user; -verbose
(-vb) will show the chairman, current transaction, and last transaction
for each forum; and -participating (-part) will select only those
meetings in which the user is a participant.  This last is necessary
because -eligible is now the default.


01/17/82 Version 5.0: Continuum has been changed to use the new subsystem
utilities package, ssu_. This will allow the use of abbrev processing of
request lines and better help facilities.  In addition, many bugs in
version 4 have been fixed and many new features have been added.


In order to support abbrev processing, the -abbrev, -no_abbrev, and
-profile control arguments have been added to the continuum command and
an abbrev request has been added.  The help request has been improved
to act more like the help command and a list_help (lh) request has been
added.  The ?  request has been changed to print a short multi-columnar
list of available requests.  A list_requests (lr) request has been
added to perform the same function as the old ?  request.

The -no_output_fill and -no_input_fill control arguments are now
the default.  This means filling will not occur unless specifically
requested.  The continuum command now accepts the control arguments
-meeting (-mtg) <meeting_name) and -list (-ls) {transaction_specifier}.
The goto request accepts the -meeting (-mtg) meeting_name control
argument.


A -set control argument has been added to the chairman request to allow
the chairman of a meeting to be changed.  The con_meeting_dir request
has been renamed meeting_dir (md).  The command will continue to be
con_meeting_dir (cmd).

The list request has been changed to update the current transaction index
if the current transaction is not in the group listed. This behavior may be
controlled with the new control arguments -update and -no_update. -update is
the default.

A -initial control argument has been added to the list, print, and
write requests. This argument selects only those transactions which are
at the beginning of transaction chains. A -line_length control argument
has been added to the write request.


The delete request may now be used to destroy the unprocessed transaction.
The print request will print the unprocessed transaction, if there is one,
when given no arguments. The usage message printed by the write request
when invoked with no arguments has been done away with.

The definition of the rest_ref transaction specifier has been changed
so that it no longer includes the current transaction. The null regexp ("//")
may now be used to mean the last regexp used.

The con_list_users command and the list_users request now take
-seen and -unseen control arguments which will only list those
participants who have (not) seen the specified transaction.  The
current_meeting request accepts the control arguments -entry (-et) and
-absolute_pathname (-absp).  -entry is the default.


The write request has been fixed so that it will no longer attempt to 
close the switch user_output. The retrieve request will no longer refuse to
retrieve transactions because they have been deleted. Use of the -user Foo
control argument to list_users will no longer list users with
personids of the form AFoo.  The ted request will no longer take faults.

Several problems connected with the use of the -meeting control
argument have been fixed.  This control argument will now work with
the talk and reply requests.  When used with the list, print, or write
request, it will no longer claim that there is no current transaction
or attempt to use the current transaction of the current meeting.  If
the meeting name following -meeting does not exist, continuum will now
properly clean up, avoiding problems such as the error "Specified index
does not correspond to a valid meeting."


The set_participate_(on off) and set_notify_(on off) requests will no
longer add phantom entries to a meeting if the personid given after the
-user control argument is not a participant in the meeting.

Participants who were left in the 'attending' state because of system
crashes or fatal process errors will no longer be shown as still
attending the meeting by con_list_users.

The con_list_users command and the list_users request have been changed
to extract information without causing the caller to be attending the
meeting.

All requests which print the name of a meeting will now show the actual
path of the meeting, not the path of the link used to find it.


09/22/81 Version 4.6: All modules were recompiled for installation.
A bug in printing transactions containing ioa_ control characters was
fixed.


09/08/81 Version 4.5: The meeting_list (mlst) command has been renamed 
con_list_meetings (clsm). The meeting_list request has been renamed
list_meetings (lsm). The old names will continue to exist for the near
future.

The apply request will now create an unprocessed transaction if one does
not exist. A typographical error in the notification of new transactions
has been corrected. The create_con_meeting command has been changed to
create meetings with ring brackets of 3,3,3.


07/18/81:  The create_con_meeting command was changed to use 'talk' as
the initial request rather than 't'. The delete_con_meeting (dlcm) command
was added.


07/10/81 Version 4.4: The -quit control argument was added to the continuum
command.  con_output_requests_ was changed to not truncate lines sent to
terminals in ^ll mode or with ll < 56 and to fill transactions to 72 columns
in these cases.  A bug in con_trans_specs_ concerning the 'new' specifier
when there were no new transactions was fixed.


Versions 4.0 - 4.3:
The continuum subsystem was largely rewritten. The most important change is
that meetings are now pure ring 3 segments. Several improvements have been made
to the user interface. In most cases, they are are upward compatible.

The create_con_meeting command will now put a meeting in the working directory
by default, instead of the central meeting directory.

The syntax and meaning of transaction specifiers has changed.  New keywords
were added.  'restref (rref)' refers to remaining transactions in the current
chain, and 'unproc (u)' refers to the transaction that has been built but not
entered in a meeting.  All keywords except 'unproc' may be used as requests and
active requests which return transaction numbers.  The '-subject' and '-text'
control arguments were added for use with regular expressions.  The '-reverse'
control argument was added.  Type 'help trans_specs' from continuum request
level for more information.


The 'name_list (n)' request has been renamed 'list_users (lsu)'. It is also
available as a command/active function, 'con_list_users (clsu)'.

Several control arguments were added to the 'meeting_list (mlst)' command.

The 'list' request will now list all transactions when it is given no 
arguments.

The '-user' control argument was added to the set_notify_(on off) and
set_participate_(on off) to allow the chairman to set/reset these switches for
all users of a meeting.

A 'ted' request, which invokes the 'ted' editor if it is available, has been
added.


The '?' request has been made shorter by not documenting the transaction
specifier requests, not documenting more than one short name for a request, and
having separate request tables which do not document requests that cannot
currently be used, e.g. If the user is not the chairman, 'delete' will not
appear in the output of the '?' request.

The '..' escape to the command processor now works from the 'Subject: ' prompt.

The '-on' and '-off' control arguments were added to the 'fill' request to 
control default filling of transactions on input.

The remainder of the input line following '\f' is now passed to the editor as
an initial request. Thus '\f1,$p' will enter the editor and print the current
text of the unprocessed transaction.
