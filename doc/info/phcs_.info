03/31/83  phcs_$read_disk_label


Entry points in phcs_$read_disk_label:
   (List is generated by the help command)


:Entry: phcs_$read_disk_label:  02/08/83 phcs_$read_disk_label


Function: This entry point is used to read the label of a storage
system disk drive.  The label is described by the structure "label,"
in the include file fs_vol_label.incl.pl1.


Syntax:
dcl phcs_$read_disk_label entry (bit (36) aligned, pointer,
     fixed bin (35));
call phcs_$read_disk_label (pvid, label_ptr, code);


Arguments:
pvid
   is the physical volume id of the disk whose label is to be read.
   (Input).  The physical volume id is used instead of the volume name
   because this is a ring zero interface, and volume names are not
   accessible by ring zero; hence, all ring zero interfaces that
   reference physical volumes use the pvid.  A pvname can be converted
   to a pvid by calling the subroutine mdc_$find_volname or can be
   returned by a previous call to find_partition_.
label_ptr
   is a pointer to the user-supplied buffer in which to read the label.
   (Input).  The label is 1024 words long and is described in
   fs_vol_label.incl.pl1.


code
   is a nonstandard status code.  (Output).  It can be:
   0
      indicates that the label was successfully read.
   error_table_$pvid_not_found
      indicates that the specified physical volume is not presently
      mounted.
   an integer between 1 and 10
      indicates that a physical disk error occurred while trying to
      read the label.  Error messages for physical disk errors are
      declared in the include file fsdisk_errors.incl.pl1, in the array
      fsdisk_error_message.
